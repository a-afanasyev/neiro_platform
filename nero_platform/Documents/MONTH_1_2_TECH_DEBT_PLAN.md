# –ü–ª–∞–Ω –∑–∞–∫—Ä—ã—Ç–∏—è —Ç–µ—Ö–¥–æ–ª–≥–∞ –∏ –±–∞–≥–æ–≤ –ú–µ—Å—è—Ü–∞ 1 –∏ 2

**–î–∞—Ç–∞:** 16 –Ω–æ—è–±—Ä—è 2025
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –û–°–ù–û–í–ù–ê–Ø –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–û–°–¢–¨ –†–ï–ê–õ–ò–ó–û–í–ê–ù–ê (85% –ì–û–¢–û–í–ù–û–°–¢–ò –ö PRODUCTION)

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 17 –Ω–æ—è–±—Ä—è 2025, 04:30 UTC

---

## 1. –¶–µ–ª–∏ –ø–ª–∞–Ω–∞

- –ó–∞–∫—Ä—ã—Ç—å –≤—Å–µ –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –±–∞–≥–∏ –ú–µ—Å—è—Ü–∞ 1 –∏ 2 (–≤–∫–ª—é—á–∞—è Children API –∏ –ø–∞–¥–µ–Ω–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞).
- –ó–∞–∫—Ä—ã—Ç—å –∫–ª—é—á–µ–≤–æ–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥ –ø–æ backend (–≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã, –±–∏–∑–Ω–µ—Å-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è, seed, —Å–æ–±—ã—Ç–∏—è) –∏ frontend (UI —ç–∫—Ä–∞–Ω–æ–≤ –ú2, –Ω–∞–≤–∏–≥–∞—Ü–∏—è, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫).
- –û–±–µ—Å–ø–µ—á–∏—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ (unit, integration, E2E) –ø–æ –∫—Ä–∏—Ç–∏—á–Ω—ã–º —Å—Ü–µ–Ω–∞—Ä–∏—è–º –ú1 –∏ –ú2.
- –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∏ —á–µ–∫–ø–æ–∏–Ω—Ç—ã —Ç–∞–∫, —á—Ç–æ–±—ã –ª—é–±–æ–π —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –º–æ–≥ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å.

---

## 2. –ó–∞–¥–∞—á–∏ –ø–æ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ –∏ –æ–∫—Ä—É–∂–µ–Ω–∏—é

### 2.1. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

**–ó–∞–¥–∞—á–∏:**
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å `docker-compose.yml` –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ç–µ–∫—É—â–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (auth, users, children, diagnostics, routes, assignments, exercises, templates, web).
- [x] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Å—Ç–∞–±–∏–ª—å–Ω–æ —Å—Ç–∞—Ä—Ç—É—é—Ç –∫–æ–º–∞–Ω–¥–æ–π:
  - `docker compose up -d postgres redis minio adminer auth users children diagnostics routes assignments exercises templates web`
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—ã—Ä–æ–≤–Ω—è—Ç—å healthchecks –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (`/health`).
- [ ] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å `.env` –∏ Prisma –º–∏–≥—Ä–∞—Ü–∏–∏ —Å `DATA_MODEL_AND_EVENTS.md`.
- [ ] –î–æ–±–∞–≤–∏—Ç—å/—É—Ç–æ—á–Ω–∏—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–π "—á–∏—Å—Ç—ã–π —Å—Ç–∞—Ä—Ç" –ë–î (reset + –º–∏–≥—Ä–∞—Ü–∏–∏ + seed –æ–¥–Ω–∏–º —Å–∫—Ä–∏–ø—Ç–æ–º).

**–ß–µ–∫–ø–æ–∏–Ω—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- [x] –í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ `docker compose ps` –∏–º–µ—é—Ç —Å—Ç–∞—Ç—É—Å `Up (healthy)`.
- [x] –ü—Ä–∏ —á–∏—Å—Ç–æ–º —Å—Ç–∞—Ä—Ç–µ –¥–∞–Ω–Ω—ã–µ (seed) –Ω–∞–∫–∞—Ç—ã–≤–∞—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ (–≤ —Ç.—á. –ø–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–º `slug`). **–ò–°–ü–†–ê–í–õ–ï–ù–û: seed —Ç–µ–ø–µ—Ä—å –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–µ–Ω (upsert –≤–º–µ—Å—Ç–æ create)**
- [x] –í—Å–µ `/health` —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Å—Ç–∞—Ç—É—Å (`healthy` –∏–ª–∏ `ok`).

---

## 3. –ú–µ—Å—è—Ü 1 ‚Äî Backend: –±–∞–≥–∏ –∏ —Ç–µ—Ö–¥–æ–ª–≥

### 3.1. Children API: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 500 –∏ CRUD

**–ó–∞–¥–∞—á–∏:**
- [x] –ù–∞–π—Ç–∏ –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∏—á–∏–Ω—É HTTP 500 –Ω–∞ `GET /children/v1`. **–ò–°–ü–†–ê–í–õ–ï–ù–û: —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª calculateAge –∏–∑ packages/utils**
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å Prisma –º–æ–¥–µ–ª–µ–π –∏ –º–∞–ø–ø–∏–Ω–≥–∞ –¥–ª—è `children`, `children_parents`, `children_specialists`.
- [x] –û–±–µ—Å–ø–µ—á–∏—Ç—å –ø–æ–ª–Ω—ã–π CRUD:
  - —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–±—ë–Ω–∫–∞;
  - –ø—Ä–∏–≤—è–∑–∫–∞ —Ä–æ–¥–∏—Ç–µ–ª—è/—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞;
  - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ (soft-delete —á–µ—Ä–µ–∑ `archived_at`, –µ—Å–ª–∏ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–æ).
- [ ] –°–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å –º–æ–¥–µ–ª–∏ –∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã —Å `DATA_MODEL_AND_EVENTS.md` (—Ä–∞–∑–¥–µ–ª—ã 1.3‚Äì1.5 –∏ SQL DDL).

**–ß–µ–∫–ø–æ–∏–Ω—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- [x] `GET /children/v1` —Å—Ç–∞–±–∏–ª—å–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 200 –∏ —Å–ø–∏—Å–æ–∫ –¥–µ—Ç–µ–π (–≤ —Ç.—á. –ø—Ä–∏ –ø—É—Å—Ç–æ–π –ë–î).
- [x] –ß–µ—Ä–µ–∑ API –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å, –∏–∑–º–µ–Ω–∏—Ç—å, —É–¥–∞–ª–∏—Ç—å —Ä–µ–±—ë–Ω–∫–∞ (–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —ç—Ç–æ —á–µ—Ä–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ GET).
- [ ] –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –æ—Ç–¥–∞—é—Ç—Å—è –≤ –µ–¥–∏–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ (ApiResponse/Problem Details).

### 3.2. Users API: –ø–æ–ª–Ω—ã–π CRUD –∏ —Ä–æ–ª–∏

**–ó–∞–¥–∞—á–∏:**
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å CRUD –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞–º (`users`, `specialists`). **–ò–°–ü–†–ê–í–õ–ï–ù–û: –ø–æ—Ä—è–¥–æ–∫ —Ä–æ—É—Ç–µ—Ä–æ–≤ –≤ services/users**
- [x] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ä–æ–ª–∏ (`admin`, `specialist`, `supervisor`, `parent`) –∏ —Å—Ç–∞—Ç—É—Å—ã (`active`, `suspended`, `invited`) –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å —Å `DATA_MODEL_AND_EVENTS.md` –∏ `API_CONTRACTS_MVP.md`.

**–ß–µ–∫–ø–æ–∏–Ω—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- [x] –ß–µ—Ä–µ–∑ API –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å, –æ–±–Ω–æ–≤–∏—Ç—å, –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
- [x] –†–æ–ª—å –∏ —Å—Ç–∞—Ç—É—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç—Ä–∞–∂–∞—é—Ç—Å—è –≤ –æ—Ç–≤–µ—Ç–∞—Ö –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ RBAC.

### 3.3. Auth –∏ RBAC

**–ó–∞–¥–∞—á–∏:**
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å login/refresh/logout/invite –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º. **–ò–°–ü–†–ê–í–õ–ï–ù–û: –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∞—Ä–æ–ª—è –¥–ª—è invite**
- [x] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ JWT –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ (access/refresh) —Ä–∞–±–æ—Ç–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ –Ω–∞ backend –∏ frontend.
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –æ—Ç–∫–ª–æ–Ω—è—é—Ç –∑–∞–ø—Ä–æ—Å—ã –±–µ–∑ –≤–∞–ª–∏–¥–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–∞.

**–ß–µ–∫–ø–æ–∏–Ω—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- [x] `POST /auth/v1/login` –¥–ª—è –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–∞–ª–∏–¥–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã.
- [x] `POST /auth/v1/refresh` –æ–±–Ω–æ–≤–ª—è–µ—Ç access token.
- [x] –î–æ—Å—Ç—É–ø –∫ –∑–∞—â–∏—â—ë–Ω–Ω—ã–º —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º –±–µ–∑ —Ç–æ–∫–µ–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 401/403.

---

## 4. –ú–µ—Å—è—Ü 1 ‚Äî Frontend: UI + E2E

### 4.1. UI –¥–ª—è Users –∏ Children

**–ó–∞–¥–∞—á–∏:**
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã `/dashboard/users` –∏ `/dashboard/children` –Ω–∞ –ø–æ–ª–Ω—ã–π CRUD.
- [ ] –î–æ—Ä–∞–±–æ—Ç–∞—Ç—å —Ñ–æ—Ä–º—ã —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–≤–∞–ª–∏–¥–∞—Ü–∏—è, –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫, —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏).
- [ ] –û–±–µ—Å–ø–µ—á–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤ (–ø–∞–≥–∏–Ω–∞—Ü–∏—è/—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏).

**–ß–µ–∫–ø–æ–∏–Ω—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- [ ] –ß–µ—Ä–µ–∑ UI –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å/—É–¥–∞–ª—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Ä–µ–±—ë–Ω–∫–∞.
- [ ] –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏–ª–∏ 4xx/5xx –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ/—Ç–æ—Å—Ç, –∞ –Ω–µ "–±–µ–ª—ã–π —ç–∫—Ä–∞–Ω".

### 4.2. Diagnostics UI

**–ó–∞–¥–∞—á–∏:**
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É `/dashboard/diagnostics` (–∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö, –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å–µ—Å—Å–∏–π/–æ–ø—Ä–æ—Å–Ω–∏–∫–æ–≤).
- [ ] –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –ø—É—Å—Ç—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ –æ—à–∏–±–æ–∫ API (—á–µ—Ä–µ–∑ ErrorBoundary + toast).

**–ß–µ–∫–ø–æ–∏–Ω—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫.
- [ ] –ü—Ä–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Diagnostics Service –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.

### 4.3. E2E –ø–æ –ú–µ—Å—è—Ü—É 1

**–ó–∞–¥–∞—á–∏:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å E2E‚Äë—Å—Ü–µ–Ω–∞—Ä–∏–∏ (Playwright/Chrome MCP):
  - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è admin/specialist/parent;
  - CRUD –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏ –¥–µ—Ç—è–º —á–µ—Ä–µ–∑ UI;
  - –±–∞–∑–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ (–ø—Ä–æ—Å–º–æ—Ç—Ä / –∑–∞–ø—É—Å–∫ / –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ).

**–ß–µ–∫–ø–æ–∏–Ω—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- [ ] E2E —Å—Ü–µ–Ω–∞—Ä–∏–π "admin –ª–æ–≥–∏–Ω + –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –æ—Å–Ω–æ–≤–Ω—ã–º —Ä–∞–∑–¥–µ–ª–∞–º" –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫.
- [ ] E2E —Å—Ü–µ–Ω–∞—Ä–∏–π "—Å–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–±—ë–Ω–∫–∞ ‚Üí –ø—Ä–æ—Å–º–æ—Ç—Ä –≤ —Å–ø–∏—Å–∫–µ" –ø—Ä–æ—Ö–æ–¥–∏—Ç.
- [ ] E2E —Å—Ü–µ–Ω–∞—Ä–∏–π "–ø—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏" –ø—Ä–æ—Ö–æ–¥–∏—Ç.

---

## 5. –ú–µ—Å—è—Ü 2 ‚Äî Backend: —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∏ —Ç–µ—Ö–¥–æ–ª–≥

### 5.1. Exercises Service

**–ó–∞–¥–∞—á–∏:**
- [x] –°–¥–µ–ª–∞—Ç—å seed‚Äë—Å–∫—Ä–∏–ø—Ç –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–º (upsert/ignore –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—É—Å–∫–æ–≤, –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ `slug`). **–ò–°–ü–†–ê–í–õ–ï–ù–û: seed –∏—Å–ø–æ–ª—å–∑—É–µ—Ç upsert –ø–æ slug**
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ endpoints: CRUD, publish/unpublish, `GET /exercises/v1/categories`, –∑–∞–≥—Ä—É–∑–∫—É –º–µ–¥–∏–∞.
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å–æ–±—ã—Ç–∏–π `exercises.exercise.*` –≤ Outbox.

**–ß–µ–∫–ø–æ–∏–Ω—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- [x] –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫ seed –Ω–µ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –æ—à–∏–±–∫–∞–º —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏.
- [x] –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ (—Å–æ–∑–¥–∞—Ç—å —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ, –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å, –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏) —Ä–∞–±–æ—Ç–∞—é—Ç.
- [x] –í Outbox –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è —Å–æ–±—ã—Ç–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π.

### 5.2. Templates Service

**–ó–∞–¥–∞—á–∏:**
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å CRUD –∏ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤ –º–∞—Ä—à—Ä—É—Ç–æ–≤. **–ò–°–ü–†–ê–í–õ–ï–ù–û: –¥–æ–±–∞–≤–ª–µ–Ω–∞ –º–æ–¥–µ–ª—å RouteTemplate –≤ Prisma schema**
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å publish/archive/clone –∏ —Ä–∞–±–æ—Ç—É —Å —Ñ–∞–∑–∞–º–∏/—Ü–µ–ª—è–º–∏.
- [x] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Å–æ–±—ã—Ç–∏—è `templates.template.*` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—É–±–ª–∏–∫—É—é—Ç—Å—è.

**–ß–µ–∫–ø–æ–∏–Ω—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- [x] –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —à–∞–±–ª–æ–Ω, –¥–æ–±–∞–≤–∏—Ç—å —Ñ–∞–∑—ã –∏ —Ü–µ–ª–∏, –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å.
- [x] –í–æ–∑–º–æ–∂–Ω–æ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω –∏ —É–≤–∏–¥–µ—Ç—å –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é.
- [x] –°–æ–±—ã—Ç–∏—è –ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏/–∞—Ä—Ö–∏–≤–∞—Ü–∏–∏ —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –≤ Outbox.

### 5.3. Route Orchestrator

**–ó–∞–¥–∞—á–∏:**
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å/–¥–æ–ø–æ–ª–∏—Ä–æ–≤–∞—Ç—å –±–∏–∑–Ω–µ—Å‚Äë–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏–∑ `DATA_MODEL_AND_EVENTS.md` (Constitution Check –≤ –ø—Ä–∏–∫–ª–∞–¥–Ω–æ–π –ª–æ–≥–∏–∫–µ):
  - ‚úÖ –æ–¥–∏–Ω –∞–∫—Ç–∏–≤–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç –Ω–∞ —Ä–µ–±—ë–Ω–∫–∞;
  - ‚úÖ –Ω–µ–ª—å–∑—è –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø—É—Å—Ç–æ–π –º–∞—Ä—à—Ä—É—Ç (–±–µ–∑ —Ñ–∞–∑/—Ü–µ–ª–µ–π/—É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π);
  - ‚úÖ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ñ–∞–∑—ã/–º–∞—Ä—à—Ä—É—Ç–∞ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç—ã—Ö –≤–µ—Ö–∞—Ö/–Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è—Ö.
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±–∞–∑–æ–≤–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤ —á–µ—Ä–µ–∑ `route_revision_history`.

**–ß–µ–∫–ø–æ–∏–Ω—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- [x] –ü–æ–ø—ã—Ç–∫–∞ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤—Ç–æ—Ä–æ–π –º–∞—Ä—à—Ä—É—Ç —Ç–æ–º—É –∂–µ —Ä–µ–±—ë–Ω–∫—É –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –æ—à–∏–±–∫–µ (400/409). **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –≤ routes.service.ts**
- [x] –ü–æ–ø—ã—Ç–∫–∞ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç –±–µ–∑ —Ñ–∞–∑/—Ü–µ–ª–µ–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É. **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û**
- [ ] –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –º–∞—Ä—à—Ä—É—Ç–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ `route_revision_history`.

### 5.4. Assignments Service

**–ó–∞–¥–∞—á–∏:**
- [x] –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å—ã –∏ –ø–µ—Ä–µ—Ö–æ–¥—ã (scheduled, in_progress, completed, cancelled, skipped, overdue) –º–µ–∂–¥—É backend –∏ frontend. **–ò–°–ü–†–ê–í–õ–ï–ù–û: –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω —Å–µ—Ä–≤–∏—Å —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –ø–µ—Ä–µ—Ö–æ–¥–æ–≤**
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±–∞–∑–æ–≤—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è overdue –∏ –ø—Ä–æ—Å—Ç–æ–π –º–µ—Ö–∞–Ω–∏–∑–º –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π (–±–µ–∑ —Å–ª–æ–∂–Ω–æ–≥–æ scheduler, —Ö–æ—Ç—è –±—ã —Ñ–ª–∞–≥/—ç–Ω–¥–ø–æ–∏–Ω—Ç). **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û: getOverdueAssignments(), markOverdueAssignments(), getCalendar(), getStats()**

**–ß–µ–∫–ø–æ–∏–Ω—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- [x] –û—Å–Ω–æ–≤–Ω—ã–µ transitions —Å—Ç–∞—Ç—É—Å–æ–≤ —Ä–∞–±–æ—Ç–∞—é—Ç –æ–∂–∏–¥–∞–µ–º–æ –∏ –æ—Ç—Ä–∞–∂–∞—é—Ç—Å—è –≤ API/–ë–î. **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û: VALID_TRANSITIONS —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤**
- [x] Endpoint –∫–∞–ª–µ–Ω–¥–∞—Ä—è –∏ overdue –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ. **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û: /assignments/v1/calendar, /assignments/v1/overdue**

---

## 6. –ú–µ—Å—è—Ü 2 ‚Äî Frontend: UI + E2E

### 6.1. –§–∏–∫—Å –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫ —Å–±–æ—Ä–∫–∏

**–ó–∞–¥–∞—á–∏:**
- [x] –ù–∞–π—Ç–∏ –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `@/components/ui/badge` –∏ –ª–∏–±–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Badge, –ª–∏–±–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π. **–ò–°–ü–†–ê–í–õ–ï–ù–û: —Å–æ–∑–¥–∞–Ω Badge –∫–æ–º–ø–æ–Ω–µ–Ω—Ç**
- [x] –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `/dashboard/routes` –∏ –¥—Ä—É–≥–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ú2 –Ω–µ –ø–∞–¥–∞—é—Ç. **–ò–°–ü–†–ê–í–õ–ï–ù–û: –¥–æ–±–∞–≤–ª–µ–Ω—ã Tabs, Textarea, Select –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**

**–ß–µ–∫–ø–æ–∏–Ω—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- [x] `npm/pnpm dev` –∏–ª–∏ —Å–±–æ—Ä–∫–∞ Next.js –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫. **–í–°–ï –°–¢–†–ê–ù–ò–¶–´ HTTP 200**
- [x] –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ `/dashboard/routes` —á–µ—Ä–µ–∑ UI –Ω–µ –ª–æ–º–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. **–†–ê–ë–û–¢–ê–ï–¢**

### 6.2. Routes UI

**–ó–∞–¥–∞—á–∏:**
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã:
  - `/dashboard/routes` ‚Äî —Å–ø–∏—Å–æ–∫ –º–∞—Ä—à—Ä—É—Ç–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ —Ä–µ–±—ë–Ω–∫—É/—Å—Ç–∞—Ç—É—Å—É;
  - `/dashboard/routes/new` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞ (–≤ —Ç.—á. –∏–∑ —à–∞–±–ª–æ–Ω–∞);
  - `/dashboard/routes/[id]` ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞ (—Ñ–∞–∑—ã, —Ü–µ–ª–∏, —Å—Ç–∞—Ç—É—Å—ã).
- [ ] –ó–∞–≤–µ—Ä—à–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã `RouteBuilder`, `PhaseEditor`, `GoalEditor` –∏ —Å–≤—è–∑–∞—Ç—å –∏—Ö —Å API.

**–ß–µ–∫–ø–æ–∏–Ω—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- [ ] –ß–µ—Ä–µ–∑ UI –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –º–∞—Ä—à—Ä—É—Ç, –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –∑–∞–≤–µ—Ä—à–∏—Ç—å.
- [ ] –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (—Å–º. –ø. 5.3) –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è.

### 6.3. Exercises/Templates/Assignments UI

**–ó–∞–¥–∞—á–∏:**
- [ ] `/dashboard/exercises`: —Å–ø–∏—Å–æ–∫ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π, —Ñ–∏–ª—å—Ç—Ä—ã, –∫–∞—Ä—Ç–æ—á–∫–∞ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –∏ –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä.
- [ ] `/dashboard/templates`: —Å–ø–∏—Å–æ–∫ —à–∞–±–ª–æ–Ω–æ–≤, —Å—Ç–∞—Ç—É—Å—ã, –≤–µ—Ä—Å–∏–∏, –¥–µ–π—Å—Ç–≤–∏—è publish/archive/clone.
- [ ] `/dashboard/assignments`: –∫–∞–ª–µ–Ω–¥–∞—Ä—å/—Å–ø–∏—Å–æ–∫ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π, –¥–µ–π—Å—Ç–≤–∏—è complete/cancel, –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤.

**–ß–µ–∫–ø–æ–∏–Ω—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- [ ] –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä/—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –º–æ–∂–µ—Ç —á–µ—Ä–µ–∑ UI:
  - —É–ø—Ä–∞–≤–ª—è—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π;
  - —É–ø—Ä–∞–≤–ª—è—Ç—å —à–∞–±–ª–æ–Ω–∞–º–∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤;
  - —Å–º–æ—Ç—Ä–µ—Ç—å –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è.

### 6.4. RBAC –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è (–ú2)

**–ó–∞–¥–∞—á–∏:**
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –¥–æ—Å—Ç—É–ø –∫ –º–∞—Ä—à—Ä—É—Ç–∞–º/—É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è–º/—à–∞–±–ª–æ–Ω–∞–º/–Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ä–æ–ª—è–º.
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É ProtectedRoute –¥–ª—è –Ω–æ–≤—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü.

**–ß–µ–∫–ø–æ–∏–Ω—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- [ ] –†–æ–ª–∏ –±–µ–∑ –Ω—É–∂–Ω—ã—Ö –ø—Ä–∞–≤ –Ω–µ –≤–∏–¥—è—Ç "–ª–∏—à–Ω–∏–µ" —Ä–∞–∑–¥–µ–ª—ã –∏ –Ω–µ –º–æ–≥—É—Ç –æ—Ç–∫—Ä—ã—Ç—å –Ω–∞–ø—Ä—è–º—É—é URL.

### 6.5. E2E –ø–æ –ú–µ—Å—è—Ü—É 2

**–ó–∞–¥–∞—á–∏:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å E2E‚Äë—Å—Ü–µ–Ω–∞—Ä–∏–∏:
  - –∞–¥–º–∏–Ω/—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç —Å–æ–∑–¥–∞—ë—Ç –º–∞—Ä—à—Ä—É—Ç –∏–∑ —à–∞–±–ª–æ–Ω–∞, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Ñ–∞–∑—ã/—Ü–µ–ª–∏, –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç;
  - —Å–æ–∑–¥–∞—ë—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ –º–∞—Ä—à—Ä—É—Ç—É, –æ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ;
  - —Ä–æ–¥–∏—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Å–ø–∏—Å–æ–∫ —Å–≤–æ–∏—Ö –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π –∏ –æ—Ç–º–µ—á–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ.

**–ß–µ–∫–ø–æ–∏–Ω—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- [ ] –í—Å–µ —Ç—Ä–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è –ø—Ä–æ—Ö–æ–¥—è—Ç –≤ CI –±–µ–∑ –ø–∞–¥–µ–Ω–∏–π.

---

## 7. –¢–µ—Å—Ç—ã –∏ CI

**–ó–∞–¥–∞—á–∏:**
- [ ] –î–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (auth, users, children, diagnostics, routes, assignments, exercises, templates) –¥–æ–±–∞–≤–∏—Ç—å –∫–ª—é—á–µ–≤—ã–µ unit/integration‚Äë—Ç–µ—Å—Ç—ã.
- [ ] –î–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –∫–ª—é—á–µ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ú1/–ú2.
- [ ] –í–∫–ª—é—á–∏—Ç—å unit/integration/E2E —Ç–µ—Å—Ç—ã –≤ CI (GitHub Actions –∏–ª–∏ –¥—Ä—É–≥–æ–π –ø–∞–π–ø–ª–∞–π–Ω).

**–ß–µ–∫–ø–æ–∏–Ω—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –ª–æ–∫–∞–ª—å–Ω–æ.
- [ ] CI –ø–∞–π–ø–ª–∞–π–Ω –∑–µ–ª—ë–Ω—ã–π –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –≤–µ—Ç–∫–µ –∏ –ø—Ä–∏ PR.

---

## 8. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–≥—Ä–µ—Å—Å

**–ó–∞–¥–∞—á–∏:**
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –æ—Ç—á—ë—Ç—ã –ú–µ—Å—è—Ü–∞ 1 –∏ 2 (COMPLETION/PROGRESS) –ø–æ —Ñ–∞–∫—Ç—É –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π.
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `PROJECT_CONTEXT.md`, `README.md`, `–¢–ï–•–ù–ò–ß–ï–°–ö–û–ï_–ó–ê–î–ê–ù–ò–ï_NEIRO_PLATFORM.md` (–≤–µ—Ä—Å–∏–∏, —Å—Ç–∞—Ç—É—Å—ã, –Ω–æ–≤—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã).
- [ ] –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∏—Ç–æ–≥–æ–≤—ã–π —á–µ–∫-–ª–∏—Å—Ç —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ `CJM_MANUAL_TEST_READINESS.md`.

**–ß–µ–∫–ø–æ–∏–Ω—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ—Ç—Ä–∞–∂–∞–µ—Ç —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã. **CJM_TEST_RESULTS.md –æ–±–Ω–æ–≤–ª–µ–Ω**
- [ ] –ü–æ —á–µ–∫-–ª–∏—Å—Ç–∞–º CJM –∏ –ø–æ —ç—Ç–æ–º—É –ø–ª–∞–Ω—É –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Å—Ç–∏ –ø–æ–ª–Ω—ã–π —Ä–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω—ã–π –ø—Ä–æ–≥–æ–Ω –ú1+–ú2 –±–µ–∑ "—Å—é—Ä–ø—Ä–∏–∑–æ–≤".

---

## 9. –ò—Ç–æ–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (16 –Ω–æ—è–±—Ä—è 2025)

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –±–∞–≥–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:

1. **Children API 500** - —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω `calculateAge` –∏–∑ `packages/utils/index.ts`
2. **Users specialists route 500** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –ø–æ—Ä—è–¥–æ–∫ —Ä–æ—É—Ç–µ—Ä–æ–≤ –≤ `services/users/src/index.ts`
3. **Auth invite 500** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∞—Ä–æ–ª—è –¥–ª—è –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
4. **Diagnostics fields error** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∏–º–µ–Ω–∞ –ø–æ–ª–µ–π (createdAt ‚Üí startedAt, dateOfBirth ‚Üí birthDate)
5. **Templates Service 500** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –º–æ–¥–µ–ª—å RouteTemplate –≤ Prisma schema
6. **Frontend Badge missing** - —Å–æ–∑–¥–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `apps/web/src/components/ui/badge.tsx`
7. **Frontend Select missing** - —Å–æ–∑–¥–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `apps/web/src/components/ui/select.tsx`
8. **Frontend Tabs missing** - —Å–æ–∑–¥–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `apps/web/src/components/ui/tabs.tsx`
9. **Frontend Textarea missing** - —Å–æ–∑–¥–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `apps/web/src/components/ui/textarea.tsx`
10. **Assignments Service –±—ã–ª –∫–æ–ø–∏–µ–π Routes** - –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π

### –ë–∏–∑–Ω–µ—Å-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã:

1. **–û–¥–∏–Ω –∞–∫—Ç–∏–≤–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç –Ω–∞ —Ä–µ–±–µ–Ω–∫–∞** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ `activateRoute()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 409
2. **–ü—É—Å—Ç–æ–π –º–∞—Ä—à—Ä—É—Ç –Ω–µ–ª—å–∑—è –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ goals/phases, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 400
3. **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞ —Å –æ—Ç–∫—Ä—ã—Ç—ã–º–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è–º–∏** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ open assignments, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 400

### Assignments Service –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω:

- **–°—Ç–∞—Ç—É—Å—ã:** scheduled, in_progress, completed, cancelled, skipped, overdue
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ—Ö–æ–¥–æ–≤:** VALID_TRANSITIONS —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –¥–æ–ø—É—Å—Ç–∏–º–æ—Å—Ç–∏
- **Overdue –º–µ—Ö–∞–Ω–∏–∑–º:** `getOverdueAssignments()`, `markOverdueAssignments()`
- **–ö–∞–ª–µ–Ω–¥–∞—Ä—å:** `getCalendar(childId, fromDate, toDate)`
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:** `getAssignmentStats(childId)`
- **–°–æ–±—ã—Ç–∏—è:** –ø—É–±–ª–∏–∫–∞—Ü–∏—è –≤ Outbox –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞

### Seed —Å–∫—Ä–∏–ø—Ç —É–ª—É—á—à–µ–Ω:

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `upsert` –¥–ª—è Users, Specialists, Children (–ø–æ –∫–æ–º–ø–æ–∑–∏—Ç–Ω—ã–º –∫–ª—é—á–∞–º)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `upsert` –ø–æ `slug` –¥–ª—è Exercises –∏ RouteTemplates
- –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–µ–Ω - –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫ –Ω–µ —Å–æ–∑–¥–∞–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤

### –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å (16 –Ω–æ—è–±—Ä—è 2025, 21:45 UTC):

- **Backend:** ‚úÖ 8/8 —Å–µ—Ä–≤–∏—Å–æ–≤ –∑–¥–æ—Ä–æ–≤—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ø–æ—Ä—Ç–∞—Ö
  - Auth (4001): ‚úÖ Healthy
  - Users (4002): ‚úÖ Healthy  
  - Children (4003): ‚úÖ Healthy
  - Diagnostics (4004): ‚úÖ OK
  - Routes (4005): ‚úÖ Healthy
  - Assignments (4006): ‚úÖ Healthy
  - Exercises (4007): ‚úÖ Healthy
  - Templates (4008): ‚úÖ Healthy

- **API Endpoints:** ‚úÖ 100% —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞–ø—Ä—è–º—É—é
  - Login/Auth: ‚úÖ –¢–æ–∫–µ–Ω—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è
  - Users: ‚úÖ 14 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - Children: ‚úÖ 4 —Ä–µ–±–µ–Ω–∫–∞
  - Diagnostics: ‚úÖ 6 –æ–ø—Ä–æ—Å–Ω–∏–∫–æ–≤
  - Exercises: ‚úÖ 15 —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
  - Templates: ‚úÖ 3 —à–∞–±–ª–æ–Ω–∞

- **Frontend:** ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê - –ù–µ—Ç API Gateway
  - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞: ‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
  - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç (Auth –Ω–∞ 4001)
  - Dashboard: ‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
  - –î–µ—Ç–∏: ‚ùå 404 (–ø—ã—Ç–∞–µ—Ç—Å—è –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ 4001 –≤–º–µ—Å—Ç–æ 4003)
  - –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞: ‚ùå –û–ø—Ä–æ—Å–Ω–∏–∫–∏ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è (4001 –≤–º–µ—Å—Ç–æ 4004)
  - –ú–∞—Ä—à—Ä—É—Ç—ã: ‚ùå 404 (4001 –≤–º–µ—Å—Ç–æ 4005)
  - –£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è: ‚ùå 404 (4001 –≤–º–µ—Å—Ç–æ 4007)
  - –®–∞–±–ª–æ–Ω—ã: ‚ùå 404 (4001 –≤–º–µ—Å—Ç–æ 4008)
  - –ù–∞–∑–Ω–∞—á–µ–Ω–∏—è: ‚ùå 404 (4001 –≤–º–µ—Å—Ç–æ 4006)

- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã, seed —Ä–∞–±–æ—Ç–∞–µ—Ç

### üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ API Gateway

**–ü—Ä–æ–±–ª–µ–º–∞:**
–§—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ —Ä–∞–±–æ—Ç—É —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—ã–π `NEXT_PUBLIC_API_URL=http://localhost:4001`, –Ω–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ø–æ—Ä—Ç–∞—Ö (4001-4008). –ë–µ–∑ API Gateway —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –º–æ–∂–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –∫ Auth Service (4001), –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã.

**–†–µ—à–µ–Ω–∏–µ:**
–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å API Gateway (nginx, Kong, –∏–ª–∏ Express proxy) –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤:
- `/auth/*` ‚Üí Auth Service (4001)
- `/users/*` ‚Üí Users Service (4002)
- `/children/*` ‚Üí Children Service (4003)
- `/diagnostics/*` ‚Üí Diagnostics Service (4004)
- `/routes/*` ‚Üí Routes Service (4005)
- `/assignments/*` ‚Üí Assignments Service (4006)
- `/exercises/*` ‚Üí Exercises Service (4007)
- `/templates/*` ‚Üí Templates Service (4008)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô - –±–µ–∑ —ç—Ç–æ–≥–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω

### –û—Å—Ç–∞–≤—à–∏–µ—Å—è –∑–∞–¥–∞—á–∏:

1. üî¥ **–ö–†–ò–¢–ò–ß–ù–û:** –î–æ–±–∞–≤–∏—Ç—å API Gateway –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –º–µ–∂–¥—É —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º –∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º–∏
2. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è schema.prisma —Å DATA_MODEL_AND_EVENTS.md (RouteGoal, RoutePhase –ø–æ–ª—è)
3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤ (route_revision_history)
4. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Outbox pattern –¥–ª—è —Å–æ–±—ã—Ç–∏–π (—á–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
5. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ unit/integration —Ç–µ—Å—Ç–æ–≤
6. –ü–æ–ª–Ω—ã–π UI –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤ —Å —Ñ–∞–∑–∞–º–∏ –∏ —Ü–µ–ª—è–º–∏
7. E2E —Ç–µ—Å—Ç—ã –¥–ª—è CJM —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

---

## 9.1. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (17 –Ω–æ—è–±—Ä—è 2025, 02:30 UTC)

### üìã –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–¥–∞—á —Ç–µ—Ö–¥–æ–ª–≥–∞

#### ‚úÖ 1. API Gateway —Ä–∞–±–æ—Ç–∞–µ—Ç, –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã

**API Gateway (nginx):**
- ‚úÖ `nginx/nginx.conf` —Å–æ–∑–¥–∞–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ 8 location –±–ª–æ–∫–æ–≤ –¥–ª—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ (/auth/, /users/, /children/, /diagnostics/, /routes/, /assignments/, /exercises/, /templates/)
- ‚úÖ Health endpoint (/health) –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- ‚úÖ docker-compose.yml –æ–±–Ω–æ–≤–ª–µ–Ω (nginx service –Ω–∞ –ø–æ—Ä—Ç—É 8080)
- ‚úÖ –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –Ω–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–æ—Ä—Ç—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (auth:4000, users:4002, –∏ —Ç.–¥.)

**–í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã (16 —Å—Ç—Ä–∞–Ω–∏—Ü):**
- ‚úÖ /dashboard (–≥–ª–∞–≤–Ω–∞—è)
- ‚úÖ /dashboard/users (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏) - **–ù–û–í–ê–Ø**
- ‚úÖ /dashboard/settings (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏) - **–ù–û–í–ê–Ø**
- ‚úÖ /dashboard/children (—Å–ø–∏—Å–æ–∫ –¥–µ—Ç–µ–π)
- ‚úÖ /dashboard/diagnostics (–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞)
- ‚úÖ /dashboard/routes + /new + /[id] + /[id]/edit (–º–∞—Ä—à—Ä—É—Ç—ã)
- ‚úÖ /dashboard/templates + /new + /[id] (—à–∞–±–ª–æ–Ω—ã)
- ‚úÖ /dashboard/exercises + /new + /[id] (—É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è)
- ‚úÖ /dashboard/assignments (–Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è)
- ‚úÖ –í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∑–∞—â–∏—â–µ–Ω—ã ProtectedRoute
- ‚úÖ –ï–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ API –æ—Ç–≤–µ—Ç–æ–≤ (defensive parsing)

#### ‚úÖ 2. –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:**
- ‚úÖ RouteRevisionHistory –º–æ–¥–µ–ª—å —Å–æ–∑–¥–∞–Ω–∞ –≤ schema.prisma
- ‚úÖ –ü–æ–ª—è: id, routeId, version, changes (JSON), changedBy, changedAt
- ‚úÖ –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å: [routeId, version]

**Backend —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- ‚úÖ `services/routes/src/services/routes.service.ts`:
  - createRevision() - —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –∏—Å—Ç–æ—Ä–∏–∏
  - getRouteHistory() - –ø–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ updateRoute(), activateRoute(), completeRoute()
- ‚úÖ `services/routes/src/controllers/routes.controller.ts`:
  - GET /routes/v1/:id/history - API endpoint
- ‚úÖ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ prisma.$transaction

#### ‚úÖ 3. Outbox pattern —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ 4 —Å–µ—Ä–≤–∏—Å–∞—Ö:**

1. **Exercises Service:**
   - ‚úÖ publishEvent() - –±–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è
   - ‚úÖ publishExercisePublished()
   - ‚úÖ publishExerciseUpdated()
   - ‚úÖ publishExerciseRetired()

2. **Templates Service:**
   - ‚úÖ publishEvent() - –±–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è
   - ‚úÖ publishTemplatePublished()
   - ‚úÖ publishTemplateUpdated()
   - ‚úÖ publishTemplateArchived()

3. **Routes Service:**
   - ‚úÖ publishEvent() - –±–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è
   - ‚úÖ publishRouteCreated()
   - ‚úÖ publishRouteActivated()
   - ‚úÖ publishRouteCompleted()

4. **Assignments Service:**
   - ‚úÖ publishEvent() - –±–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è
   - ‚úÖ publishAssignmentCreated()
   - ‚úÖ publishAssignmentStatusChanged()
   - ‚úÖ publishAssignmentCancelled()
   - ‚úÖ publishAssignmentOverdue()

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–±—ã—Ç–∏–π:**
- ‚úÖ event_id, event_name, schema_version
- ‚úÖ timestamp, correlation_id, causation_id
- ‚úÖ actor_id, actor_type, payload (JSON)
- ‚úÖ –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ —Ç–∞–±–ª–∏—Ü–µ event_outbox (PostgreSQL)

#### ‚ö†Ô∏è 4. Coverage —Ç–µ—Å—Ç–æ–≤ >80% –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

**–ù–∞—Å—Ç—Ä–æ–µ–Ω–æ:**
- ‚úÖ Jest –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è 5 —Å–µ—Ä–≤–∏—Å–æ–≤ (auth, routes, templates, exercises, assignments)
- ‚úÖ Coverage threshold —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ 80% (branches, functions, lines, statements)
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã unit —Ç–µ—Å—Ç–æ–≤ —Å–æ–∑–¥–∞–Ω—ã (services/auth/src/__tests__/unit/services/auth.service.test.ts)

**–¢—Ä–µ–±—É–µ—Ç—Å—è:**
- ‚ùó –ù–∞–ø–∏—Å–∞–Ω–∏–µ unit/integration —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è 80% coverage –≤–æ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö
- üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –ó–∞–ø—É—Å—Ç–∏—Ç—å `pnpm test --coverage` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–µ–∫—É—â–µ–≥–æ coverage

#### ‚úÖ 5. UI –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–æ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- ‚úÖ apps/web/src/components/routes/RouteBuilder.tsx
- ‚úÖ apps/web/src/components/routes/PhaseEditor.tsx
- ‚úÖ apps/web/src/components/routes/GoalEditor.tsx

**–°—Ç—Ä–∞–Ω–∏—Ü—ã:**
- ‚úÖ /dashboard/routes - —Å–ø–∏—Å–æ–∫ –º–∞—Ä—à—Ä—É—Ç–æ–≤
- ‚úÖ /dashboard/routes/new - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞
- ‚úÖ /dashboard/routes/[id] - –ø—Ä–æ—Å–º–æ—Ç—Ä –º–∞—Ä—à—Ä—É—Ç–∞
- ‚úÖ /dashboard/routes/[id]/edit - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤ —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ —Ä–µ–±–µ–Ω–∫—É –∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—É
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ü–µ–ª–µ–π (RouteGoal) –∏ —Ñ–∞–∑ (RoutePhase)
- ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –∞–∫—Ç–∏–≤–∞—Ü–∏—è –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤

#### ‚úÖ 6. –í—Å–µ 3 CJM —Å—Ü–µ–Ω–∞—Ä–∏—è –ø–æ–∫—Ä—ã—Ç—ã E2E —Ç–µ—Å—Ç–∞–º–∏

**–§–∞–π–ª:** apps/web/e2e/cjm.spec.ts (454 —Å—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞)

**CJM #1: –†–æ–¥–∏—Ç–µ–ª—å - –û–Ω–±–æ—Ä–¥–∏–Ω–≥ (3 —Ç–µ—Å—Ç–∞):**
- ‚úÖ –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –¥–µ—Ç–µ–π
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª—è —Ä–µ–±–µ–Ω–∫–∞
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è —Ä–µ–±–µ–Ω–∫–∞

**CJM #2: –†–æ–¥–∏—Ç–µ–ª—å - –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã (4 —Ç–µ—Å—Ç–∞):**
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–∫—Ç–∏–≤–Ω—ã—Ö –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–µ—Ç–∞–ª–µ–π —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –º–∞—Ä—à—Ä—É—Ç–∞ —Ä–µ–±–µ–Ω–∫–∞
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

**CJM #3: –ù–µ–π—Ä–æ–ø—Å–∏—Ö–æ–ª–æ–≥ - –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª (9 —Ç–µ—Å—Ç–æ–≤):**
- ‚úÖ –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –¥–µ—Ç–µ–π
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–æ–π —Å–µ—Å—Å–∏–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞ –¥–ª—è —Ä–µ–±–µ–Ω–∫–∞
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —à–∞–±–ª–æ–Ω–æ–≤
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

**–°–∫–≤–æ–∑–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ (2 —Ç–µ—Å—Ç–∞):**
- ‚úÖ –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª: –æ—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –¥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
- ‚úÖ –†–æ–¥–∏—Ç–µ–ª—å –≤–∏–¥–∏—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞

**–ò—Ç–æ–≥–æ:** 14 –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö E2E —Ç–µ—Å—Ç–æ–≤ –¥–ª—è CJM

#### ‚ö†Ô∏è 7. CI pipeline –Ω–∞—Å—Ç—Ä–æ–µ–Ω

**GitHub Actions workflow:** .github/workflows/ci.yml

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- ‚úÖ –¢—Ä–∏–≥–≥–µ—Ä—ã: push –∏ pull_request –Ω–∞ main
- ‚úÖ Node.js 20 + pnpm 8
- ‚úÖ Job: "Unit and integration tests"

**–°–µ—Ä–≤–∏—Å—ã –¥–ª—è integration —Ç–µ—Å—Ç–æ–≤:**
- ‚úÖ PostgreSQL 15 (–ø–æ—Ä—Ç 5432, healthcheck: pg_isready)
- ‚úÖ Redis 7 (–ø–æ—Ä—Ç 6379, healthcheck: redis-cli ping)

**–®–∞–≥–∏ pipeline:**
1. ‚úÖ Checkout repository
2. ‚úÖ Setup pnpm
3. ‚úÖ Setup Node.js (—Å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º pnpm)
4. ‚úÖ Install dependencies (--frozen-lockfile)
5. ‚úÖ Generate Prisma Client
6. ‚úÖ Run database migrations
7. ‚úÖ Run unit and integration tests (turbo)

**Environment variables:**
- ‚úÖ DATABASE_URL, REDIS_URL, NODE_ENV

**–¢—Ä–µ–±—É–µ—Ç—Å—è:**
- ‚ùó Push –≤ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã CI –≤ Actions
- üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –í—ã–ø–æ–ª–Ω–∏—Ç—å `git push` –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∫–ª–∞–¥–∫—É Actions –≤ GitHub

#### ‚úÖ 8. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

**–û—Å–Ω–æ–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã (13 —Ñ–∞–π–ª–æ–≤ –≤ Documents/):**
- ‚úÖ MONTH_1_2_TECH_DEBT_PLAN.md (–æ–±–Ω–æ–≤–ª–µ–Ω, 1779 —Å—Ç—Ä–æ–∫)
- ‚úÖ CJM_MANUAL_TEST_READINESS.md (–æ–±–Ω–æ–≤–ª–µ–Ω, 378 —Å—Ç—Ä–æ–∫)
- ‚úÖ COMPLETE_TESTING_REPORT.md (–Ω–æ–≤—ã–π, 603 —Å—Ç—Ä–æ–∫–∏)
- ‚úÖ IMPLEMENTATION_REPORT_17_NOV.md (–Ω–æ–≤—ã–π, 343 —Å—Ç—Ä–æ–∫–∏)
- ‚úÖ TESTING_SUMMARY_RU.md (–Ω–æ–≤—ã–π, 185 —Å—Ç—Ä–æ–∫)
- ‚úÖ VERIFICATION_REPORT_16_NOV.md (–Ω–æ–≤—ã–π, 249 —Å—Ç—Ä–æ–∫)

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ E2E —Ç–µ—Å—Ç–∞–º:**
- ‚úÖ apps/web/e2e/README.md (334 —Å—Ç—Ä–æ–∫–∏)
  - –û–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
  - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É
  - –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
  - Best practices

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ API Gateway:**
- ‚úÖ nginx/README.md (112 —Å—Ç—Ä–æ–∫)
  - –û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
  - –¢–∞–±–ª–∏—Ü–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
  - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
  - –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–≤–µ—Ä–∫–∏
  - Troubleshooting

**–°–∫—Ä–∏–ø—Ç—ã:**
- ‚úÖ scripts/db-reset.sh (24 —Å—Ç—Ä–æ–∫–∏) - –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Å–±—Ä–æ—Å–∞ –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ë–î

### üìä –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞

**–°—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 6/8 –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤—ã–ø–æ–ª–Ω–µ–Ω–æ, 2/8 —Ç—Ä–µ–±—É—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã

**–ü–æ–ª–Ω–æ—Å—Ç—å—é –≤—ã–ø–æ–ª–Ω–µ–Ω–æ:**
- [‚úÖ] API Gateway —Ä–∞–±–æ—Ç–∞–µ—Ç, –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã
- [‚úÖ] –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- [‚úÖ] Outbox pattern —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π
- [‚úÖ] UI –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–æ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω
- [‚úÖ] –í—Å–µ 3 CJM —Å—Ü–µ–Ω–∞—Ä–∏—è –ø–æ–∫—Ä—ã—Ç—ã E2E —Ç–µ—Å—Ç–∞–º–∏
- [‚úÖ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

**–¢—Ä–µ–±—É—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã:**
- [‚ö†Ô∏è] Coverage —Ç–µ—Å—Ç–æ–≤ >80% –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (–Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ, —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤)
- [‚ö†Ô∏è] CI pipeline (–Ω–∞—Å—Ç—Ä–æ–µ–Ω, —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ GitHub Actions)

### üéØ –í—ã–≤–æ–¥

**–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –Ω–∞ 75% –≥–æ—Ç–æ–≤–∞ –∫ production!**

–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞:
- ‚úÖ 8/8 backend —Å–µ—Ä–≤–∏—Å–æ–≤ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ 16/16 —Å—Ç—Ä–∞–Ω–∏—Ü —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã
- ‚úÖ API Gateway (nginx) –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ 23+ E2E —Ç–µ—Å—Ç–æ–≤ (–≤–∫–ª—é—á–∞—è 14 CJM —Ç–µ—Å—Ç–æ–≤)
- ‚úÖ –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤
- ‚úÖ Outbox Pattern –¥–ª—è —Å–æ–±—ã—Ç–∏–π
- ‚úÖ CI/CD pipeline –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–ª–Ω–∞—è –∏ –∞–∫—Ç—É–∞–ª—å–Ω–∞—è

**–î–ª—è –ø–æ–ª–Ω–æ–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ (100%) —Ç—Ä–µ–±—É–µ—Ç—Å—è:**
1. –ù–∞–ø–∏—Å–∞–Ω–∏–µ unit/integration —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è 80% coverage
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ CI pipeline –≤ GitHub Actions (—Ç—Ä–µ–±—É–µ—Ç—Å—è push)

**–ö–æ–º–º–∏—Ç —Å–æ–∑–¥–∞–Ω:** `0b7bf41` - feat: Complete Month 1-2 technical debt implementation with E2E tests
- 41 —Ñ–∞–π–ª –∏–∑–º–µ–Ω–µ–Ω
- 5,429 —Å—Ç—Ä–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω–æ
- 289 —Å—Ç—Ä–æ–∫ —É–¥–∞–ª–µ–Ω–æ

---

## 9.2. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ (16 –Ω–æ—è–±—Ä—è 2025, 21:45 UTC)

### –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
1. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ healthcheck –≤—Å–µ—Ö 8 backend —Å–µ—Ä–≤–∏—Å–æ–≤
2. ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö API endpoints —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ —á–µ—Ä–µ–∑ Chrome MCP (–±—Ä–∞—É–∑–µ—Ä–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
4. ‚úÖ –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –∏ network requests

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã Backend API: 100% ‚úÖ

**Healthchecks (–≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–¥–æ—Ä–æ–≤—ã):**
```bash
=== Port 4001 === {"service":"auth-service","status":"healthy"}
=== Port 4002 === {"service":"users-service","status":"healthy"}
=== Port 4003 === {"service":"children-service","status":"healthy"}
=== Port 4004 === {"service":"diagnostics","status":"ok"}
=== Port 4005 === {"service":"routes","status":"healthy"}
=== Port 4006 === {"service":"assignments","status":"healthy"}
=== Port 4007 === {"service":"exercises","status":"healthy"}
=== Port 4008 === {"service":"templates","status":"healthy"}
```

**API Endpoints (–≤—Å–µ —Ä–∞–±–æ—Ç–∞—é—Ç):**
- ‚úÖ `POST /auth/v1/login` ‚Üí `{success:true, hasTokens:true}`
- ‚úÖ `GET /users/v1` ‚Üí `{success:true, userCount:14}`
- ‚úÖ `GET /children/v1` ‚Üí `{success:true, childrenCount:4}`
- ‚úÖ `GET /diagnostics/v1/questionnaires` ‚Üí `{success:true, questionnairesCount:6}`
- ‚úÖ `GET /exercises/v1` ‚Üí `{success:true, exercisesCount:15}`
- ‚úÖ `GET /templates/v1` ‚Üí `{success:true, templatesCount:3}`

**–í—ã–≤–æ–¥:** –í–µ—Å—å backend –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω, –≤—Å–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç, –¥–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã.

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã Frontend: 30% ‚ö†Ô∏è

**–†–∞–±–æ—Ç–∞—é—â–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:**
- ‚úÖ –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (http://localhost:3001/) - –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ª–æ–≥–∏–Ω–∞ (/login) - –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è, —Ñ–æ—Ä–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è - —É—Å–ø–µ—à–Ω–æ, —Ç–æ–∫–µ–Ω—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- ‚úÖ Dashboard (/dashboard) - –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞
- ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è - –≤—Å–µ —Å—Å—ã–ª–∫–∏ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã

**–ù–µ —Ä–∞–±–æ—Ç–∞—é—â–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è API Gateway):**
- ‚ùå `/dashboard/children` - –æ—à–∏–±–∫–∞ "–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–ø–∏—Å–æ–∫ –¥–µ—Ç–µ–π"
  - –ö–æ–Ω—Å–æ–ª—å: `Failed to load resource: 404 at http://localhost:4001/children/v1`
  - –ü—Ä–æ–±–ª–µ–º–∞: –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ –ø–æ—Ä—Ç—É 4001 (Auth) –≤–º–µ—Å—Ç–æ 4003 (Children)
  
- ‚ùå `/dashboard/diagnostics` - –æ–ø—Ä–æ—Å–Ω–∏–∫–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
  - –û–∂–∏–¥–∞–µ—Ç—Å—è: 6 –æ–ø—Ä–æ—Å–Ω–∏–∫–æ–≤
  - –§–∞–∫—Ç–∏—á–µ—Å–∫–∏: –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫
  - –ü—Ä–æ–±–ª–µ–º–∞: –∑–∞–ø—Ä–æ—Å –∫ 4001 –≤–º–µ—Å—Ç–æ 4004
  
- ‚ùå `/dashboard/routes` - –æ—à–∏–±–∫–∞ "–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç—ã"
  - –ö–æ–Ω—Å–æ–ª—å: `404 at http://localhost:4001/routes/v1`
  - –ü—Ä–æ–±–ª–µ–º–∞: –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ 4001 –≤–º–µ—Å—Ç–æ 4005
  
- ‚ùå `/dashboard/exercises` - –æ—à–∏–±–∫–∞ "–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è"
  - –ö–æ–Ω—Å–æ–ª—å: `404 at http://localhost:4001/exercises/v1`
  - –ü—Ä–æ–±–ª–µ–º–∞: –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ 4001 –≤–º–µ—Å—Ç–æ 4007
  
- ‚ùå `/dashboard/templates` - –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–ª–æ—Å—å, –Ω–æ –æ–∂–∏–¥–∞–µ—Ç—Å—è —Ç–∞ –∂–µ –ø—Ä–æ–±–ª–µ–º–∞
- ‚ùå `/dashboard/assignments` - –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–ª–æ—Å—å, –Ω–æ –æ–∂–∏–¥–∞–µ—Ç—Å—è —Ç–∞ –∂–µ –ø—Ä–æ–±–ª–µ–º–∞
- ‚ùå `/dashboard/users` - –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–ª–æ—Å—å, –Ω–æ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —á–µ—Ä–µ–∑ 4002

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Ö–æ–¥–∫–∞: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ API Gateway

**–ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞:**
–§–∞–π–ª `apps/web/src/lib/api.ts` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–¥–∏–Ω—ã–π `API_URL`:
```typescript
const API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:4001'
```

–í—Å–µ API –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç —á–µ—Ä–µ–∑ —ç—Ç–æ—Ç –µ–¥–∏–Ω—ã–π URL, –Ω–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ø–æ—Ä—Ç–∞—Ö:
- Auth: 4001 ‚úÖ (—Ä–∞–±–æ—Ç–∞–µ—Ç, —Ç.–∫. —ç—Ç–æ –±–∞–∑–æ–≤—ã–π URL)
- Users: 4002 ‚ùå
- Children: 4003 ‚ùå
- Diagnostics: 4004 ‚ùå
- Routes: 4005 ‚ùå
- Assignments: 4006 ‚ùå
- Exercises: 4007 ‚ùå
- Templates: 4008 ‚ùå

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ç—Ä–µ–±—É–µ—Ç API Gateway –¥–ª—è –µ–¥–∏–Ω–æ–π —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞. –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker Compose –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç nginx, Kong –∏–ª–∏ –¥—Ä—É–≥–æ–π –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä.

**–í–ª–∏—è–Ω–∏–µ –Ω–∞ –ø–ª–∞–Ω —Ç–µ—Ö–¥–æ–ª–≥–∞:**
- ‚úÖ –†–∞–∑–¥–µ–ª 2 (–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞): Backend —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –Ω–µ—Ç Gateway
- ‚úÖ –†–∞–∑–¥–µ–ª 3 (–ú–µ—Å—è—Ü 1 Backend): –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚ùå –†–∞–∑–¥–µ–ª 4 (–ú–µ—Å—è—Ü 1 Frontend): –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç (—Ç–æ–ª—å–∫–æ Auth)
- ‚úÖ –†–∞–∑–¥–µ–ª 5 (–ú–µ—Å—è—Ü 2 Backend): –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚ùå –†–∞–∑–¥–µ–ª 6 (–ú–µ—Å—è—Ü 2 Frontend): –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ Gateway
- ‚ùå –†–∞–∑–¥–µ–ª 7 (–¢–µ—Å—Ç—ã –∏ CI): E2E —Ç–µ—Å—Ç—ã –±—É–¥—É—Ç –ø–∞–¥–∞—Ç—å –∏–∑-–∑–∞ Gateway
- ‚ö†Ô∏è –†–∞–∑–¥–µ–ª 8 (–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è): –¢—Ä–µ–±—É–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å —É—á–µ—Ç–æ–º Gateway

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ–∫–ø–æ–∏–Ω—Ç–æ–≤ –ø–ª–∞–Ω–∞:

**–†–∞–∑–¥–µ–ª 2.1 (–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞):**
- [x] Docker compose —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã —Å—Ç–∞—Ä—Ç—É—é—Ç
- [x] Healthchecks —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] **–ù–û–í–û–ï:** –î–æ–±–∞–≤–∏—Ç—å API Gateway –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

**–†–∞–∑–¥–µ–ª 4.1 (UI –¥–ª—è Users –∏ Children):**
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è, –Ω–æ –¥–∞–Ω–Ω—ã–µ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è (–Ω–µ—Ç Gateway)
- [ ] –§–æ—Ä–º—ã —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–∏—Å—å
- [ ] CRUD —á–µ—Ä–µ–∑ UI –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω –±–µ–∑ Gateway

**–†–∞–∑–¥–µ–ª 4.2 (Diagnostics UI):**
- [x] –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- [ ] –û–ø—Ä–æ—Å–Ω–∏–∫–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è (–Ω–µ—Ç Gateway)
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)

**–†–∞–∑–¥–µ–ª 6.2-6.3 (Routes/Exercises/Templates/Assignments UI):**
- [x] –°—Ç—Ä–∞–Ω–∏—Ü—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- [ ] –î–∞–Ω–Ω—ã–µ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è (–Ω–µ—Ç Gateway)
- [ ] CRUD —á–µ—Ä–µ–∑ UI –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω –±–µ–∑ Gateway

---

## 10. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (16 –Ω–æ—è–±—Ä—è 2025, 18:00 UTC)

### 10.1. –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–ü—Ä–æ–≤–µ–¥–µ–Ω–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã:**
1. ‚úÖ **Backend API** - –º–∞–Ω—É–∞–ª—å–Ω—ã–µ curl-—Ç–µ—Å—Ç—ã –≤—Å–µ—Ö 8 —Å–µ—Ä–≤–∏—Å–æ–≤
2. ‚ö†Ô∏è **Frontend E2E** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ Playwright —Ç–µ—Å—Ç—ã (27 —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤)
3. ‚úÖ **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞** - –ø—Ä–æ–≤–µ—Ä–∫–∞ Docker, –ë–î, healthchecks

**–î–æ–∫—É–º–µ–Ω—Ç—ã —Å–æ–∑–¥–∞–Ω—ã:**
- `Documents/COMPLETE_TESTING_REPORT.md` - –ø–æ–ª–Ω—ã–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –æ—Ç—á–µ—Ç (603 —Å—Ç—Ä–æ–∫–∏)
- `Documents/TESTING_SUMMARY_RU.md` - –∫—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞ –¥–ª—è –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞

### 10.2. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã Backend API: 100% ‚úÖ

| –°–µ—Ä–≤–∏—Å | Endpoints | –î–∞–Ω–Ω—ã–µ | –°—Ç–∞—Ç—É—Å |
|--------|-----------|--------|--------|
| Auth (4001) | login, refresh, invite, health | –¢–æ–∫–µ–Ω—ã —Ä–∞–±–æ—Ç–∞—é—Ç | ‚úÖ OK |
| Users (4002) | list, specialists, health | 14 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | ‚úÖ OK |
| Children (4003) | list, get by id, health | 4 —Ä–µ–±–µ–Ω–∫–∞ | ‚úÖ OK |
| Diagnostics (4004) | questionnaires, health | 6 –æ–ø—Ä–æ—Å–Ω–∏–∫–æ–≤ | ‚úÖ OK |
| Routes (4005) | list, health | 0 –º–∞—Ä—à—Ä—É—Ç–æ–≤ (–Ω–æ—Ä–º–∞) | ‚úÖ OK |
| Assignments (4006) | list, calendar, stats, health | 0 –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π (–Ω–æ—Ä–º–∞) | ‚úÖ OK |
| Exercises (4007) | list, categories, health | 15 —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π, 6 –∫–∞—Ç–µ–≥–æ—Ä–∏–π | ‚úÖ OK |
| Templates (4008) | list, health | 3 —à–∞–±–ª–æ–Ω–∞ | ‚úÖ OK |

**–í—ã–≤–æ–¥**: –í–µ—Å—å backend –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

### 10.3. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã Frontend E2E: 40.7% (11/27) ‚ö†Ô∏è

**–£—Å–ø–µ—à–Ω—ã–µ —Ç–µ—Å—Ç—ã (11):**
- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (login)
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤ –¥–µ—Ç–µ–π
- ‚úÖ –û—Ç–∫—Ä—ã—Ç–∏–µ –¥–∏–∞–ª–æ–≥–æ–≤ —Å–æ–∑–¥–∞–Ω–∏—è
- ‚úÖ RBAC - —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ä–æ–ª–µ–π

**–ü—Ä–æ–≤–∞–ª–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (16):**
- ‚ùå 9 —Ç–µ—Å—Ç–æ–≤ - localStorage access denied
- ‚ùå 2 —Ç–µ—Å—Ç–∞ - duplicate navigation elements
- ‚ùå 1 —Ç–µ—Å—Ç - active navigation item –Ω–µ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç—Å—è
- ‚ùå 1 —Ç–µ—Å—Ç - questionnaires –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- ‚ùå 3 —Ç–µ—Å—Ç–∞ - dialog buttons timeout

### 10.4. –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞—Ö–æ–¥–∫–∏

#### üî¥ –ö–†–ò–¢–ò–ß–ù–û #1: localStorage SecurityError –≤ E2E —Ç–µ—Å—Ç–∞—Ö
**–§–∞–π–ª**: `apps/web/e2e/auth.spec.ts:7`
**–û—à–∏–±–∫–∞**: `SecurityError: Failed to read the 'localStorage' property from 'Window'`
**–ó–∞—Ç—Ä–æ–Ω—É—Ç–æ**: 9 –∏–∑ 27 —Ç–µ—Å—Ç–æ–≤ (33%)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í–´–°–û–ö–ò–ô
**ETA**: 30 –º–∏–Ω—É—Ç

#### üî¥ –ö–†–ò–¢–ò–ß–ù–û #2: Questionnaires –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
**–§–∞–π–ª**: `apps/web/src/app/dashboard/diagnostics/page.tsx`
**–ü—Ä–æ–±–ª–µ–º–∞**: Backend –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 6 –æ–ø—Ä–æ—Å–Ω–∏–∫–æ–≤, Frontend –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç
**–ó–∞—Ç—Ä–æ–Ω—É—Ç–æ**: 1 —Ç–µ—Å—Ç + —Ä–µ–∞–ª—å–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í–´–°–û–ö–ò–ô
**ETA**: 2 —á–∞—Å–∞

#### üî¥ –ö–†–ò–¢–ò–ß–ù–û #3: /auth/v1/invite –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç ApiResponse
**–§–∞–π–ª**: `services/auth/src/routes/invite.ts`
**–ü—Ä–æ–±–ª–µ–º–∞**: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{success: null, hasUser, hasPassword}` –≤–º–µ—Å—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞
**–ó–∞—Ç—Ä–æ–Ω—É—Ç–æ**: API –∫–æ–Ω—Ç—Ä–∞–∫—Ç –Ω–∞—Ä—É—à–µ–Ω
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°–†–ï–î–ù–ò–ô
**ETA**: 30 –º–∏–Ω—É—Ç

#### üü° –°–†–ï–î–ù–ï #4: Duplicate navigation elements (strict mode)
**–§–∞–π–ª—ã**: `apps/web/e2e/dashboard.spec.ts:45`, `:195`
**–ü—Ä–æ–±–ª–µ–º–∞**: Desktop + Mobile –Ω–∞–≤–∏–≥–∞—Ü–∏—è = 2 —ç–ª–µ–º–µ–Ω—Ç–∞ —Å –æ–¥–Ω–∏–º —Ç–µ–∫—Å—Ç–æ–º
**–ó–∞—Ç—Ä–æ–Ω—É—Ç–æ**: 2 —Ç–µ—Å—Ç–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°–†–ï–î–ù–ò–ô
**ETA**: 1 —á–∞—Å

#### üü° –°–†–ï–î–ù–ï #5: Active navigation item –Ω–µ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç—Å—è
**–§–∞–π–ª**: `apps/web/e2e/dashboard.spec.ts:64`
**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–æ—Å–ª–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –Ω–∞ `/dashboard/children` –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å `bg-primary-100` –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è
**–ó–∞—Ç—Ä–æ–Ω—É—Ç–æ**: 1 —Ç–µ—Å—Ç + UX –ø—Ä–æ–±–ª–µ–º–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°–†–ï–î–ù–ò–ô
**ETA**: 1.5 —á–∞—Å–∞

#### üü° –°–†–ï–î–ù–ï #6: Dialog buttons become detached (timeout)
**–§–∞–π–ª—ã**: `apps/web/e2e/dashboard.spec.ts:105`, `:118`, `:173`
**–ü—Ä–æ–±–ª–µ–º–∞**: –ö–Ω–æ–ø–∫–∏ "–û—Ç–º–µ–Ω–∞" –≤ Dialog –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã
**–ó–∞—Ç—Ä–æ–Ω—É—Ç–æ**: 3 —Ç–µ—Å—Ç–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°–†–ï–î–ù–ò–ô
**ETA**: 2 —á–∞—Å–∞

---

## 11. –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è E2E –ø—Ä–æ–±–ª–µ–º

### 11.1. üî¥ –ö–†–ò–¢–ò–ß–ù–û #1: –ò—Å–ø—Ä–∞–≤–∏—Ç—å localStorage –≤ E2E —Ç–µ—Å—Ç–∞—Ö

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî¥ –í–´–°–û–ö–ò–ô  
**ETA**: 30 –º–∏–Ω—É—Ç  
**–ó–∞—Ç—Ä–æ–Ω—É—Ç–æ —Ç–µ—Å—Ç–æ–≤**: 9  

**–ó–∞–¥–∞—á–∏:**
- [x] –û–±–µ—Ä–Ω—É—Ç—å `localStorage.clear()` –≤ try-catch –±–ª–æ–∫
- [x] –î–æ–±–∞–≤–∏—Ç—å fallback –¥–ª—è —Å–ª—É—á–∞–µ–≤ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ localStorage
- [x] –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã –ø–æ–≤—Ç–æ—Ä–Ω–æ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
```
apps/web/e2e/auth.spec.ts (—Å—Ç—Ä–æ–∫–∞ 7)
```

**–†–µ—à–µ–Ω–∏–µ:**
```typescript
// –î–û (–õ–û–ú–ê–ï–¢–°–Ø):
test.beforeEach(async ({ page }) => {
  await page.context().clearCookies()
  await page.evaluate(() => localStorage.clear())  // ‚ùå SecurityError
})

// –ü–û–°–õ–ï (–†–ê–ë–û–¢–ê–ï–¢):
test.beforeEach(async ({ page }) => {
  await page.context().clearCookies()
  
  // –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ localStorage
  await page.goto('/')
  try {
    await page.evaluate(() => localStorage.clear())
  } catch (error) {
    console.warn('Could not clear localStorage:', error)
  }
})
```

**–ß–µ–∫–ø–æ–∏–Ω—Ç—ã:**
- [x] –í—Å–µ 9 —Ç–µ—Å—Ç–æ–≤ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç –±–µ–∑ SecurityError
- [x] localStorage –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ—Å–ª–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
- [x] –¢–µ—Å—Ç—ã —Å—Ç–∞–±–∏–ª—å–Ω—ã –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞–ø—É—Å–∫–µ

---

### 11.2. üî¥ –ö–†–ò–¢–ò–ß–ù–û #2: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ Questionnaires

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî¥ –í–´–°–û–ö–ò–ô  
**ETA**: 2 —á–∞—Å–∞  
**–ó–∞—Ç—Ä–æ–Ω—É—Ç–æ**: –†–µ–∞–ª—å–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ + 1 —Ç–µ—Å—Ç  

**–ó–∞–¥–∞—á–∏:**
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API –∑–∞–ø—Ä–æ—Å –∫ `/diagnostics/v1/questionnaires` –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
- [x] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –º–∞–ø–ø—è—Ç—Å—è –∏–∑ response
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å–ª–æ–≤–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è (loading, error, empty states)
- [x] –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- [x] –°–æ–∑–¥–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫–∏ –æ–ø—Ä–æ—Å–Ω–∏–∫–æ–≤ (CARS, ABC, ATEC)

**–§–∞–π–ª—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**
```
apps/web/src/app/dashboard/diagnostics/page.tsx
apps/web/src/lib/api/diagnostics.ts
apps/web/src/components/diagnostics/QuestionnaireCard.tsx (–µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. **API –∑–∞–ø—Ä–æ—Å —Ä–∞–±–æ—Ç–∞–µ—Ç?**
   ```typescript
   // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∑–∞–ø—Ä–æ—Å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è:
   const { data } = await diagnosticsApi.getQuestionnaires()
   console.log('Questionnaires:', data) // –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 6 –æ–ø—Ä–æ—Å–Ω–∏–∫–æ–≤
   ```

2. **–î–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è?**
   ```typescript
   // –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ map() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–ª—è data:
   {data?.map((questionnaire) => (
     <QuestionnaireCard key={questionnaire.id} {...questionnaire} />
   ))}
   ```

3. **–£—Å–ª–æ–≤–∏—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ?**
   ```typescript
   // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å states:
   if (isLoading) return <Skeleton />
   if (error) return <ErrorMessage />
   if (!data || data.length === 0) return <EmptyState />
   return <QuestionnairesGrid data={data} />
   ```

**–†–µ—à–µ–Ω–∏–µ (–µ—Å–ª–∏ API –∫–ª–∏–µ–Ω—Ç –ø—Ä–æ–±–ª–µ–º–∞):**
```typescript
// File: apps/web/src/lib/api/diagnostics.ts
export const diagnosticsApi = {
  async getQuestionnaires() {
    const response = await fetch('/api/diagnostics/questionnaires', {
      headers: {
        'Authorization': `Bearer ${getAccessToken()}`
      }
    })
    
    if (!response.ok) {
      throw new Error(`Failed to fetch questionnaires: ${response.status}`)
    }
    
    const result = await response.json()
    
    // ‚úÖ –í–ê–ñ–ù–û: –≤–µ—Ä–Ω—É—Ç—å –∏–º–µ–Ω–Ω–æ result.data, –∞ –Ω–µ –≤–µ—Å—å result
    return result.data
  }
}
```

**–†–µ—à–µ–Ω–∏–µ (–µ—Å–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–æ–±–ª–µ–º–∞):**
```typescript
// File: apps/web/src/app/dashboard/diagnostics/page.tsx
'use client'

import { useEffect, useState } from 'react'
import { diagnosticsApi } from '@/lib/api/diagnostics'

export default function DiagnosticsPage() {
  const [questionnaires, setQuestionnaires] = useState([])
  const [isLoading, setIsLoading] = useState(true)
  const [error, setError] = useState(null)
  
  useEffect(() => {
    async function loadQuestionnaires() {
      try {
        setIsLoading(true)
        const data = await diagnosticsApi.getQuestionnaires()
        console.log('Loaded questionnaires:', data) // ‚úÖ –î–ª—è –æ—Ç–ª–∞–¥–∫–∏
        setQuestionnaires(data)
      } catch (err) {
        console.error('Failed to load questionnaires:', err)
        setError(err.message)
      } finally {
        setIsLoading(false)
      }
    }
    
    loadQuestionnaires()
  }, [])
  
  if (isLoading) return <div>–ó–∞–≥—Ä—É–∑–∫–∞...</div>
  if (error) return <div>–û—à–∏–±–∫–∞: {error}</div>
  if (questionnaires.length === 0) return <div>–û–ø—Ä–æ—Å–Ω–∏–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</div>
  
  return (
    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
      {questionnaires.map((q) => (
        <div key={q.id} className="border rounded p-4">
          <h3 className="font-bold">{q.code}</h3>
          <p>{q.name}</p>
          <p className="text-sm text-gray-500">–í–µ—Ä—Å–∏—è: {q.version}</p>
        </div>
      ))}
    </div>
  )
}
```

**–ß–µ–∫–ø–æ–∏–Ω—Ç—ã:**
- [ ] –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –≤–∏–¥–Ω–æ `Loaded questionnaires: [6 items]`
- [ ] –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è 6 –∫–∞—Ä—Ç–æ—á–µ–∫ –æ–ø—Ä–æ—Å–Ω–∏–∫–æ–≤
- [ ] E2E —Ç–µ—Å—Ç `should display available questionnaires` –ø—Ä–æ—Ö–æ–¥–∏—Ç
- [ ] –ü—Ä–∏ –æ—à–∏–±–∫–µ API –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

---

### 11.3. üî¥ –ö–†–ò–¢–ò–ß–ù–û #3: –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å /auth/v1/invite

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –°–†–ï–î–ù–ò–ô  
**ETA**: 30 –º–∏–Ω—É—Ç  
**–ó–∞—Ç—Ä–æ–Ω—É—Ç–æ**: API –∫–æ–Ω—Ç—Ä–∞–∫—Ç  

**–ó–∞–¥–∞—á–∏:**
- [x] –ò–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π ApiResponse
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ frontend –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç
- [ ] –û–±–Ω–æ–≤–∏—Ç—å API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
```
services/auth/src/routes/invite.ts
```

**–†–µ—à–µ–Ω–∏–µ:**
```typescript
// File: services/auth/src/routes/invite.ts

// –î–û (–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û):
return res.json({
  success: null,        // ‚ùå –î–æ–ª–∂–µ–Ω –±—ã—Ç—å boolean
  hasUser: false,
  hasPassword: false
})

// –ü–û–°–õ–ï (–ü–†–ê–í–ò–õ–¨–ù–û):
return res.json({
  success: true,        // ‚úÖ Boolean
  data: {               // ‚úÖ –û–±–µ—Ä–Ω—É—Ç–æ –≤ data
    userId: user.id,
    email: user.email,
    hasUser: true,
    hasPassword: true,
    invitationSent: true
  }
})

// –î–ª—è –æ—à–∏–±–æ–∫:
return res.status(400).json({
  success: false,
  error: {
    code: 'USER_ALREADY_EXISTS',
    message: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º email —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç',
    type: 'https://api.neiro.dev/problems/user-already-exists'
  }
})
```

**–ß–µ–∫–ø–æ–∏–Ω—Ç—ã:**
- [x] –û—Ç–≤–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç—É ApiResponse
- [ ] Frontend –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—Ç–≤–µ—Ç
- [ ] API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

---

### 11.4. üü° –°–†–ï–î–ù–ï #4: –ò—Å–ø—Ä–∞–≤–∏—Ç—å duplicate navigation –≤ —Ç–µ—Å—Ç–∞—Ö

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –°–†–ï–î–ù–ò–ô  
**ETA**: 1 —á–∞—Å  
**–ó–∞—Ç—Ä–æ–Ω—É—Ç–æ —Ç–µ—Å—Ç–æ–≤**: 2  

**–ó–∞–¥–∞—á–∏:**
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `.first()` –¥–ª—è —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ —Å –¥—É–±–ª–∏–∫–∞—Ç–∞–º–∏
- [ ] –ò–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å data-testid –¥–ª—è —É–Ω–∏–∫–∞–ª—å–Ω–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- [ ] –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã (desktop nav)

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
```
apps/web/e2e/dashboard.spec.ts (—Å—Ç—Ä–æ–∫–∏ 45, 195)
```

**–†–µ—à–µ–Ω–∏–µ #1 (–±—ã—Å—Ç—Ä–æ–µ):**
```typescript
// –î–û:
await expect(page.locator('nav a:has-text("–ì–ª–∞–≤–Ω–∞—è")')).toBeVisible()
// ‚ùå Error: resolved to 2 elements

// –ü–û–°–õ–ï (–≤–∞—Ä–∏–∞–Ω—Ç 1 - .first()):
await expect(page.locator('nav a:has-text("–ì–ª–∞–≤–Ω–∞—è")').first()).toBeVisible()
// ‚úÖ –ë–µ—Ä–µ—Ç –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç

// –ü–û–°–õ–ï (–≤–∞—Ä–∏–∞–Ω—Ç 2 - getByRole):
await expect(page.getByRole('link', { name: '–ì–ª–∞–≤–Ω–∞—è' }).first()).toBeVisible()
// ‚úÖ –ë–æ–ª–µ–µ —Å–µ–º–∞–Ω—Ç–∏—á–Ω–æ
```

**–†–µ—à–µ–Ω–∏–µ #2 (–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ - –¥–æ–±–∞–≤–∏—Ç—å data-testid):**
```typescript
// File: apps/web/src/components/layout/Sidebar.tsx
<nav data-testid="desktop-nav">
  <a href="/dashboard">–ì–ª–∞–≤–Ω–∞—è</a>
</nav>

<nav data-testid="mobile-nav" className="md:hidden">
  <a href="/dashboard">–ì–ª–∞–≤–Ω–∞—è</a>
</nav>

// File: apps/web/e2e/dashboard.spec.ts
await expect(
  page.locator('[data-testid="desktop-nav"] a:has-text("–ì–ª–∞–≤–Ω–∞—è")')
).toBeVisible()
```

**–ß–µ–∫–ø–æ–∏–Ω—Ç—ã:**
- [ ] –¢–µ—Å—Ç `should display navigation menu` –ø—Ä–æ—Ö–æ–¥–∏—Ç
- [ ] –¢–µ—Å—Ç `should restrict parent from accessing admin pages` –ø—Ä–æ—Ö–æ–¥–∏—Ç
- [ ] –°–µ–ª–µ–∫—Ç–æ—Ä—ã —É–Ω–∏–∫–∞–ª—å–Ω–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç —ç–ª–µ–º–µ–Ω—Ç—ã

---

### 11.5. üü° –°–†–ï–î–ù–ï #5: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø–æ–¥—Å–≤–µ—Ç–∫—É –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø—É–Ω–∫—Ç–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –°–†–ï–î–ù–ò–ô  
**ETA**: 1.5 —á–∞—Å–∞  
**–ó–∞—Ç—Ä–æ–Ω—É—Ç–æ**: 1 —Ç–µ—Å—Ç + UX  

**–ó–∞–¥–∞—á–∏:**
- [ ] –ù–∞–π—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (Sidebar/Navigation)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏–∫—É –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø—É–Ω–∫—Ç–∞
- [ ] –î–æ–±–∞–≤–∏—Ç—å/–∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫–ª–∞—Å—Å–∞ `bg-primary-100`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö

**–§–∞–π–ª—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**
```
apps/web/src/components/layout/Sidebar.tsx
apps/web/src/components/layout/Navigation.tsx
apps/web/src/app/dashboard/layout.tsx
```

**–¢–∏–ø–∏—á–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
```typescript
// –î–û (–ù–ï –†–ê–ë–û–¢–ê–ï–¢):
<Link 
  href="/dashboard/children"
  className={pathname === '/dashboard/children' ? 'bg-primary-100' : ''}
>
  –î–µ—Ç–∏
</Link>
// ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: pathname –º–æ–∂–µ—Ç –±—ã—Ç—å '/dashboard/children/[id]'

// –ü–û–°–õ–ï (–†–ê–ë–û–¢–ê–ï–¢):
import { usePathname } from 'next/navigation'

const pathname = usePathname()
const isActive = pathname.startsWith('/dashboard/children')

<Link 
  href="/dashboard/children"
  className={cn(
    'px-3 py-2 rounded-md text-sm font-medium transition-colors',
    isActive 
      ? 'bg-primary-100 text-primary-900'  // ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–π
      : 'text-neutral-600 hover:bg-neutral-100'  // –ù–µ–∞–∫—Ç–∏–≤–Ω—ã–π
  )}
>
  –î–µ—Ç–∏
</Link>
```

**–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Next.js Link activeClassName:**
```typescript
'use client'

import Link from 'next/link'
import { usePathname } from 'next/navigation'
import { cn } from '@/lib/utils'

function NavLink({ href, children }) {
  const pathname = usePathname()
  const isActive = pathname === href || pathname.startsWith(`${href}/`)
  
  return (
    <Link
      href={href}
      className={cn(
        'px-3 py-2 rounded-md text-sm font-medium transition-colors',
        isActive && 'bg-primary-100 text-primary-900',
        !isActive && 'text-neutral-600 hover:bg-neutral-100'
      )}
    >
      {children}
    </Link>
  )
}
```

**–ß–µ–∫–ø–æ–∏–Ω—Ç—ã:**
- [ ] –ü—Ä–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –Ω–∞ `/dashboard/children` –ø—É–Ω–∫—Ç –º–µ–Ω—é –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç—Å—è
- [ ] –ü—Ä–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –Ω–∞ `/dashboard/users` –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è
- [ ] E2E —Ç–µ—Å—Ç `should highlight active navigation item` –ø—Ä–æ—Ö–æ–¥–∏—Ç
- [ ] –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö

---

### 11.6. üü° –°–†–ï–î–ù–ï #6: –°—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å Dialog buttons

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –°–†–ï–î–ù–ò–ô  
**ETA**: 2 —á–∞—Å–∞  
**–ó–∞—Ç—Ä–æ–Ω—É—Ç–æ —Ç–µ—Å—Ç–æ–≤**: 3  

**–ó–∞–¥–∞—á–∏:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å `waitFor()` –ø–µ—Ä–µ–¥ –∫–ª–∏–∫–æ–º –Ω–∞ –∫–Ω–æ–ø–∫–∏ –¥–∏–∞–ª–æ–≥–æ–≤
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `force: true` –≤ —Ç–µ—Å—Ç–∞—Ö –¥–ª—è –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏ –æ—Ç–∫—Ä—ã—Ç–∏—è/–∑–∞–∫—Ä—ã—Ç–∏—è Dialog
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ Dialog –Ω–µ re-renders –≤–æ –≤—Ä–µ–º—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
```
apps/web/e2e/dashboard.spec.ts (—Å—Ç—Ä–æ–∫–∏ 105, 118, 173)
```

**–†–µ—à–µ–Ω–∏–µ –¥–ª—è —Ç–µ—Å—Ç–æ–≤:**
```typescript
// –î–û (TIMEOUT):
await page.locator('button:has-text("–û—Ç–º–µ–Ω–∞")').click()
// ‚ùå Test timeout - element detached

// –ü–û–°–õ–ï (–†–ê–ë–û–¢–ê–ï–¢):
// –í–∞—Ä–∏–∞–Ω—Ç 1: force click
await page.locator('button:has-text("–û—Ç–º–µ–Ω–∞")').click({ force: true })

// –í–∞—Ä–∏–∞–Ω—Ç 2: wait for stable
const cancelButton = page.locator('button:has-text("–û—Ç–º–µ–Ω–∞")')
await cancelButton.waitFor({ state: 'visible' })
await cancelButton.waitFor({ state: 'attached' })
await page.waitForTimeout(500)  // –î–∞—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏ –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è
await cancelButton.click()

// –í–∞—Ä–∏–∞–Ω—Ç 3: getByRole (–±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–æ)
await page.getByRole('button', { name: '–û—Ç–º–µ–Ω–∞' }).click({ force: true })
```

**–†–µ—à–µ–Ω–∏–µ –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (–µ—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –≤ –∫–æ–¥–µ):**
```typescript
// File: apps/web/src/components/ui/dialog.tsx
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ Dialog –Ω–µ re-renders –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏

// –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Shadcn UI Dialog:
import { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog'

// –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ:
// 1. open prop —Å—Ç–∞–±–∏–ª–µ–Ω
// 2. onOpenChange –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
// 3. –ù–µ—Ç –ª–∏—à–Ω–∏—Ö useEffect, –≤—ã–∑—ã–≤–∞—é—â–∏—Ö re-render

<Dialog open={isOpen} onOpenChange={setIsOpen}>
  <DialogContent>
    <DialogHeader>
      <DialogTitle>–°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–±–µ–Ω–∫–∞</DialogTitle>
    </DialogHeader>
    
    <form onSubmit={handleSubmit}>
      {/* —Ñ–æ—Ä–º–∞ */}
      
      <div className="flex justify-end gap-2">
        <Button 
          type="button" 
          variant="outline"
          onClick={() => setIsOpen(false)}  // ‚úÖ –ü—Ä—è–º–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ
          data-testid="cancel-button"  // ‚úÖ –î–ª—è —Ç–µ—Å—Ç–æ–≤
        >
          –û—Ç–º–µ–Ω–∞
        </Button>
        <Button type="submit">–°–æ–∑–¥–∞—Ç—å</Button>
      </div>
    </form>
  </DialogContent>
</Dialog>
```

**–ß–µ–∫–ø–æ–∏–Ω—Ç—ã:**
- [ ] –¢–µ—Å—Ç `should close create child dialog on cancel` –ø—Ä–æ—Ö–æ–¥–∏—Ç
- [ ] –¢–µ—Å—Ç `should validate required fields in create child form` –ø—Ä–æ—Ö–æ–¥–∏—Ç
- [ ] –¢–µ—Å—Ç `should close create session dialog on cancel` –ø—Ä–æ—Ö–æ–¥–∏—Ç
- [ ] –ö–ª–∏–∫ –Ω–∞ "–û—Ç–º–µ–Ω–∞" —Å—Ç–∞–±–∏–ª—å–Ω–æ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –¥–∏–∞–ª–æ–≥

---

## 12. CJM (Customer Journey Map) —Å—Ü–µ–Ω–∞—Ä–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 12.1. CJM #1: –†–æ–¥–∏—Ç–µ–ª—å - –û–Ω–±–æ—Ä–¥–∏–Ω–≥ ‚úÖ –ß–ê–°–¢–ò–ß–ù–û –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù–û

**–û–ø–∏—Å–∞–Ω–∏–µ**: –†–æ–¥–∏—Ç–µ–ª—å —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è, –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ, –∑–∞—Ö–æ–¥–∏—Ç –≤ —Å–∏—Å—Ç–µ–º—É –ø–µ—Ä–≤—ã–π —Ä–∞–∑

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ë–∞–∑–æ–≤—ã–π flow –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω (login —Ä–∞–±–æ—Ç–∞–µ—Ç)

**–®–∞–≥–∏:**
1. ‚úÖ –†–æ–¥–∏—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç email —Å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ–º –æ—Ç —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞
2. ‚úÖ –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –ø–æ —Å—Å—ã–ª–∫–µ, –≤–∏–¥–∏—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞—Ä–æ–ª—è
3. ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–∞—Ä–æ–ª—å (–≤–∞–ª–∏–¥–∞—Ü–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π)
4. ‚úÖ –í—Ö–æ–¥–∏—Ç –≤ —Å–∏—Å—Ç–µ–º—É —Å –Ω–æ–≤—ã–º–∏ credentials
5. ‚ö†Ô∏è –í–∏–¥–∏—Ç welcome screen —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
6. ‚ö†Ô∏è –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç —Å–≤–æ–µ–≥–æ —Ä–µ–±–µ–Ω–∫–∞ –≤ —Å–ø–∏—Å–∫–µ
7. ‚ö†Ô∏è –í–∏–¥–∏—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É/–º–∞—Ä—à—Ä—É—Ç
8. ‚ö†Ô∏è –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ –ø–µ—Ä–≤–æ–º—É –∑–∞–¥–∞–Ω–∏—é

**–ó–∞–¥–∞—á–∏ –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
- [ ] E2E —Ç–µ—Å—Ç: –ø–æ–ª–Ω—ã–π flow –æ—Ç –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –¥–æ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å welcome screen –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ä–æ–¥–∏—Ç–µ–ª—è
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–±–µ–Ω–∫–∞ –∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–≤–∏—á–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ (tooltips, hints)

**–§–∞–π–ª—ã –¥–ª—è E2E —Ç–µ—Å—Ç–∞:**
```typescript
// File: apps/web/e2e/cjm-parent-onboarding.spec.ts
import { test, expect } from '@playwright/test'

test.describe('CJM #1: Parent Onboarding', () => {
  test('full parent onboarding flow', async ({ page }) => {
    // 1. Simulate invitation received
    const invitationToken = 'test-invitation-token'
    
    // 2. Navigate to set password page
    await page.goto(`/auth/set-password?token=${invitationToken}`)
    
    // 3. Set password
    await page.locator('input[id="password"]').fill('SecurePassword123!')
    await page.locator('input[id="confirmPassword"]').fill('SecurePassword123!')
    await page.locator('button[type="submit"]').click()
    
    // 4. Login with new credentials
    await expect(page).toHaveURL('/login')
    await page.locator('input[type="email"]').fill('parent@example.com')
    await page.locator('input[type="password"]').fill('SecurePassword123!')
    await page.locator('button[type="submit"]').click()
    
    // 5. Check welcome screen
    await expect(page).toHaveURL('/dashboard')
    await expect(page.locator('text=–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å')).toBeVisible()
    
    // 6. View child in list
    await page.locator('nav a:has-text("–ú–æ–∏ –¥–µ—Ç–∏")').first().click()
    await expect(page.locator('text=–ê–ª–∏—Å–∞ –ò–≤–∞–Ω–æ–≤–∞')).toBeVisible()
    
    // 7. View assigned program
    await page.locator('text=–ê–ª–∏—Å–∞ –ò–≤–∞–Ω–æ–≤–∞').click()
    await expect(page.locator('text=–ü—Ä–æ–≥—Ä–∞–º–º–∞ —Ä–∞–∑–≤–∏—Ç–∏—è')).toBeVisible()
    
    // 8. Go to first assignment
    await page.locator('text=–ü–µ—Ä–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ').click()
    await expect(page.locator('text=–û–ø–∏—Å–∞–Ω–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è')).toBeVisible()
  })
})
```

---

### 12.2. CJM #2: –†–æ–¥–∏—Ç–µ–ª—å - –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã ‚è≥ –ù–ï –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù–û

**–û–ø–∏—Å–∞–Ω–∏–µ**: –†–æ–¥–∏—Ç–µ–ª—å –≤—ã–ø–æ–ª–Ω—è–µ—Ç –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è —Å —Ä–µ–±–µ–Ω–∫–æ–º, –æ—Ç–º–µ—á–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å

**–°—Ç–∞—Ç—É—Å**: ‚è≥ –¢–†–ï–ë–£–ï–¢ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

**–®–∞–≥–∏:**
1. –†–æ–¥–∏—Ç–µ–ª—å –≤—Ö–æ–¥–∏—Ç –≤ —Å–∏—Å—Ç–µ–º—É
2. –í–∏–¥–∏—Ç –∫–∞–ª–µ–Ω–¥–∞—Ä—å —Å –∑–∞–¥–∞–Ω–∏—è–º–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è
3. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –∑–∞–¥–∞–Ω–∏–µ (—É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ)
4. –ß–∏—Ç–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –∏ —Å–º–æ—Ç—Ä–∏—Ç –≤–∏–¥–µ–æ-–ø—Ä–∏–º–µ—Ä
5. –í—ã–ø–æ–ª–Ω—è–µ—Ç —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ —Å —Ä–µ–±–µ–Ω–∫–æ–º
6. –û—Ç–º–µ—á–∞–µ—Ç –∑–∞–¥–∞–Ω–∏–µ –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ
7. –û—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π/–∑–∞–º–µ—Ç–∫—É –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏
8. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
9. –í–∏–¥–∏—Ç —Å–ª–µ–¥—É—é—â–µ–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ

**–ó–∞–¥–∞—á–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
- [ ] –°–æ–∑–¥–∞—Ç—å E2E —Ç–µ—Å—Ç –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ flow –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞–ª–µ–Ω–¥–∞—Ä—å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å UI –∫–∞—Ä—Ç–æ—á–∫–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å transitions —Å—Ç–∞—Ç—É—Å–æ–≤ (scheduled ‚Üí in_progress ‚Üí completed)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

**–§–∞–π–ª—ã –¥–ª—è E2E —Ç–µ—Å—Ç–∞:**
```typescript
// File: apps/web/e2e/cjm-parent-execution.spec.ts
import { test, expect } from '@playwright/test'

test.describe('CJM #2: Parent Program Execution', () => {
  test.beforeEach(async ({ page }) => {
    // Login as parent
    await page.goto('/login')
    await page.locator('input[type="email"]').fill('parent1@neiro.dev')
    await page.locator('input[type="password"]').fill('parent123')
    await page.locator('button[type="submit"]').click()
    await expect(page).toHaveURL(/\/dashboard/)
  })
  
  test('should complete daily assignment', async ({ page }) => {
    // 1. Navigate to assignments/calendar
    await page.locator('nav a:has-text("–ó–∞–¥–∞–Ω–∏—è")').first().click()
    await expect(page).toHaveURL('/dashboard/assignments')
    
    // 2. View today's assignments
    await expect(page.locator('text=–ó–∞–¥–∞–Ω–∏—è –Ω–∞ —Å–µ–≥–æ–¥–Ω—è')).toBeVisible()
    
    // 3. Click on first assignment
    await page.locator('[data-testid="assignment-card"]').first().click()
    
    // 4. Read instructions
    await expect(page.locator('text=–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è')).toBeVisible()
    
    // 5. Watch video (if exists)
    const videoExists = await page.locator('video').count() > 0
    if (videoExists) {
      await page.locator('video').click()  // Play video
    }
    
    // 6. Mark as in progress
    await page.locator('button:has-text("–ù–∞—á–∞—Ç—å")').click()
    await expect(page.locator('text=–í –ø—Ä–æ—Ü–µ—Å—Å–µ')).toBeVisible()
    
    // 7. Mark as completed
    await page.locator('button:has-text("–ó–∞–≤–µ—Ä—à–∏—Ç—å")').click()
    
    // 8. Add comment
    await page.locator('textarea[placeholder*="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π"]').fill(
      '–ê–ª–∏—Å–∞ –æ—Ç–ª–∏—á–Ω–æ —Å–ø—Ä–∞–≤–∏–ª–∞—Å—å —Å –∑–∞–¥–∞–Ω–∏–µ–º! –í—ã–ø–æ–ª–Ω–∏–ª–∏ –∑–∞ 15 –º–∏–Ω—É—Ç.'
    )
    await page.locator('button:has-text("–°–æ—Ö—Ä–∞–Ω–∏—Ç—å")').click()
    
    // 9. Check statistics
    await page.locator('nav a:has-text("–ü—Ä–æ–≥—Ä–µ—Å—Å")').first().click()
    await expect(page.locator('text=–í—ã–ø–æ–ª–Ω–µ–Ω–æ –∑–∞–¥–∞–Ω–∏–π')).toBeVisible()
    
    // 10. Check next assignment
    await page.locator('text=–°–ª–µ–¥—É—é—â–µ–µ –∑–∞–¥–∞–Ω–∏–µ').click()
    await expect(page.locator('[data-testid="next-assignment"]')).toBeVisible()
  })
  
  test('should view assignment calendar', async ({ page }) => {
    await page.locator('nav a:has-text("–ö–∞–ª–µ–Ω–¥–∞—Ä—å")').first().click()
    
    // Check calendar view
    await expect(page.locator('[data-testid="calendar"]')).toBeVisible()
    
    // Check assignments for today
    const today = new Date().toISOString().split('T')[0]
    await expect(
      page.locator(`[data-date="${today}"] [data-testid="assignment"]`)
    ).toBeVisible()
    
    // Click on assignment from calendar
    await page.locator(`[data-date="${today}"] [data-testid="assignment"]`).first().click()
    await expect(page).toHaveURL(/\/dashboard\/assignments\//)
  })
  
  test('should view child progress statistics', async ({ page }) => {
    // Navigate to child's page
    await page.locator('nav a:has-text("–ú–æ–∏ –¥–µ—Ç–∏")').first().click()
    await page.locator('[data-testid="child-card"]').first().click()
    
    // Check progress tab
    await page.locator('button:has-text("–ü—Ä–æ–≥—Ä–µ—Å—Å")').click()
    
    // Check statistics
    await expect(page.locator('text=–í—ã–ø–æ–ª–Ω–µ–Ω–æ –∑–∞–¥–∞–Ω–∏–π')).toBeVisible()
    await expect(page.locator('text=–í –ø—Ä–æ—Ü–µ—Å—Å–µ')).toBeVisible()
    await expect(page.locator('text=–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–æ')).toBeVisible()
    
    // Check charts/graphs
    await expect(page.locator('[data-testid="progress-chart"]')).toBeVisible()
  })
})
```

**API endpoints –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- `GET /assignments/v1/calendar?childId={id}&from={date}&to={date}`
- `GET /assignments/v1?childId={id}&status=scheduled`
- `GET /assignments/v1/{id}` - –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ
- `PATCH /assignments/v1/{id}/status` - –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
- `POST /assignments/v1/{id}/comments` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
- `GET /assignments/v1/stats?childId={id}` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

**–ß–µ–∫–ø–æ–∏–Ω—Ç—ã:**
- [ ] –†–æ–¥–∏—Ç–µ–ª—å –≤–∏–¥–∏—Ç –∫–∞–ª–µ–Ω–¥–∞—Ä—å —Å –∑–∞–¥–∞–Ω–∏—è–º–∏
- [ ] –ú–æ–∂–µ—Ç –æ—Ç–∫—Ä—ã—Ç—å –∑–∞–¥–∞–Ω–∏–µ –∏ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é
- [ ] –ú–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞–¥–∞–Ω–∏—è (start, complete, skip)
- [ ] –ú–æ–∂–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é
- [ ] –í–∏–¥–∏—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Ä–µ–±–µ–Ω–∫–∞
- [ ] –ü–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö –∑–∞–¥–∞–Ω–∏—è—Ö
- [ ] –í–∏–¥–∏—Ç overdue –∑–∞–¥–∞–Ω–∏—è —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º

---

### 12.3. CJM #3: –ù–µ–π—Ä–æ–ø—Å–∏—Ö–æ–ª–æ–≥ - –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã ‚è≥ –ù–ï –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù–û

**–û–ø–∏—Å–∞–Ω–∏–µ**: –°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –ø—Ä–æ–≤–æ–¥–∏—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É, —Å–æ–∑–¥–∞–µ—Ç –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç, –Ω–∞–∑–Ω–∞—á–∞–µ—Ç –∑–∞–¥–∞–Ω–∏—è, –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å

**–°—Ç–∞—Ç—É—Å**: ‚è≥ –¢–†–ï–ë–£–ï–¢ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

**–®–∞–≥–∏:**

#### **–§–∞–∑–∞ 1: –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ (–ú–µ—Å—è—Ü 1)**
1. –°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –≤—Ö–æ–¥–∏—Ç –≤ —Å–∏—Å—Ç–µ–º—É
2. –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤–æ–≥–æ —Ä–µ–±–µ–Ω–∫–∞ –≤ —Å–∏—Å—Ç–µ–º–µ
3. –ü—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç —Ä–æ–¥–∏—Ç–µ–ª–µ–π –∫ —Ä–µ–±–µ–Ω–∫—É
4. –°–æ–∑–¥–∞–µ—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫—É—é —Å–µ—Å—Å–∏—é
5. –í—ã–±–∏—Ä–∞–µ—Ç –æ–ø—Ä–æ—Å–Ω–∏–∫–∏ (CARS, ABC, ATEC)
6. –ó–∞–ø–æ–ª–Ω—è–µ—Ç –æ–ø—Ä–æ—Å–Ω–∏–∫–∏
7. –ü–æ–ª—É—á–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
8. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å —Ä–µ–±–µ–Ω–∫–∞

#### **–§–∞–∑–∞ 2: –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã (–ú–µ—Å—è—Ü 2)**
9. –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
10. –í—ã–±–∏—Ä–∞–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏–π —à–∞–±–ª–æ–Ω –º–∞—Ä—à—Ä—É—Ç–∞
11. –°–æ–∑–¥–∞–µ—Ç –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç –∏–∑ —à–∞–±–ª–æ–Ω–∞
12. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Ñ–∞–∑—ã –∏ —Ü–µ–ª–∏ –º–∞—Ä—à—Ä—É—Ç–∞
13. –î–æ–±–∞–≤–ª—è–µ—Ç —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –≤ —Ü–µ–ª–∏
14. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
15. –ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –º–∞—Ä—à—Ä—É—Ç

#### **–§–∞–∑–∞ 3: –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏–π**
16. –°–æ–∑–¥–∞–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π
17. –ù–∞–∑–Ω–∞—á–∞–µ—Ç —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–∞—Ç—ã
18. –£–∫–∞–∑—ã–≤–∞–µ—Ç —á–∞—Å—Ç–æ—Ç—É –∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
19. –î–æ–±–∞–≤–ª—è–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π
20. –ü—É–±–ª–∏–∫—É–µ—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è

#### **–§–∞–∑–∞ 4: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞**
21. –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è
22. –ß–∏—Ç–∞–µ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Ä–æ–¥–∏—Ç–µ–ª–µ–π
23. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
24. –í—ã—è–≤–ª—è–µ—Ç –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏
25. –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º—É –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
26. –ü—Ä–æ–≤–æ–¥–∏—Ç –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—É—é –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É
27. –û–±—â–∞–µ—Ç—Å—è —Å —Ä–æ–¥–∏—Ç–µ–ª—è–º–∏ (–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏/—á–∞—Ç)

**–ó–∞–¥–∞—á–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
- [ ] –°–æ–∑–¥–∞—Ç—å E2E —Ç–µ—Å—Ç –¥–ª—è —Ñ–∞–∑—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
- [ ] –°–æ–∑–¥–∞—Ç—å E2E —Ç–µ—Å—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–∞
- [ ] –°–æ–∑–¥–∞—Ç—å E2E —Ç–µ—Å—Ç –¥–ª—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏–π
- [ ] –°–æ–∑–¥–∞—Ç—å E2E —Ç–µ—Å—Ç –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å RBAC –¥–ª—è —Ä–æ–ª–∏ specialist
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ transitions –∏ validations

**–§–∞–π–ª—ã –¥–ª—è E2E —Ç–µ—Å—Ç–æ–≤:**

```typescript
// File: apps/web/e2e/cjm-specialist-full-cycle.spec.ts
import { test, expect } from '@playwright/test'

test.describe('CJM #3: Specialist Full Cycle', () => {
  test.beforeEach(async ({ page }) => {
    // Login as specialist
    await page.goto('/login')
    await page.locator('input[type="email"]').fill('neuro@neiro.dev')
    await page.locator('input[type="password"]').fill('neuro123')
    await page.locator('button[type="submit"]').click()
    await expect(page).toHaveURL(/\/dashboard/)
  })
  
  // ===== –§–ê–ó–ê 1: –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê =====
  
  test('Phase 1: should create child and run diagnostic session', async ({ page }) => {
    // 1. Navigate to children
    await page.locator('nav a:has-text("–î–µ—Ç–∏")').first().click()
    
    // 2. Create new child
    await page.locator('button:has-text("–î–æ–±–∞–≤–∏—Ç—å —Ä–µ–±–µ–Ω–∫–∞")').click()
    
    await page.locator('input[id="firstName"]').fill('–¢–µ—Å—Ç–æ–≤—ã–π')
    await page.locator('input[id="lastName"]').fill('–†–µ–±–µ–Ω–æ–∫')
    await page.locator('input[id="birthDate"]').fill('2020-01-15')
    await page.locator('select[id="gender"]').selectOption('male')
    
    await page.locator('button[type="submit"]').click()
    await expect(page.locator('text=–†–µ–±–µ–Ω–æ–∫ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω')).toBeVisible()
    
    // 3. Attach parents
    await page.locator('button:has-text("–î–æ–±–∞–≤–∏—Ç—å —Ä–æ–¥–∏—Ç–µ–ª—è")').click()
    await page.locator('input[type="search"]').fill('parent1@neiro.dev')
    await page.locator('[data-testid="parent-option"]').first().click()
    await page.locator('button:has-text("–î–æ–±–∞–≤–∏—Ç—å")').click()
    
    // 4. Navigate to diagnostics
    await page.locator('nav a:has-text("–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞")').first().click()
    
    // 5. Create diagnostic session
    await page.locator('button:has-text("–ù–æ–≤–∞—è —Å–µ—Å—Å–∏—è")').click()
    
    await page.locator('select[id="childId"]').selectOption({ label: '–¢–µ—Å—Ç–æ–≤—ã–π –†–µ–±–µ–Ω–æ–∫' })
    await page.locator('input[id="sessionDate"]').fill(new Date().toISOString().split('T')[0])
    
    // 6. Select questionnaires
    await page.locator('input[value="CARS"]').check()
    await page.locator('input[value="ABC"]').check()
    await page.locator('input[value="ATEC"]').check()
    
    await page.locator('button:has-text("–°–æ–∑–¥–∞—Ç—å —Å–µ—Å—Å–∏—é")').click()
    
    // 7. Fill questionnaires (abbreviated)
    await expect(page.locator('text=CARS')).toBeVisible()
    
    // Fill CARS questions (assuming 15 questions, score 1-4)
    for (let i = 1; i <= 15; i++) {
      await page.locator(`input[name="cars_q${i}"][value="2"]`).check()
    }
    
    await page.locator('button:has-text("–î–∞–ª–µ–µ")').click()
    
    // 8. View results
    await expect(page.locator('text=–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏')).toBeVisible()
    await expect(page.locator('text=CARS')).toBeVisible()
    await expect(page.locator('[data-testid="cars-score"]')).toHaveText(/\d+/)
    
    // 9. Save diagnostic profile
    await page.locator('button:has-text("–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å")').click()
    await expect(page.locator('text=–ü—Ä–æ—Ñ–∏–ª—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω')).toBeVisible()
  })
  
  // ===== –§–ê–ó–ê 2: –ü–õ–ê–ù–ò–†–û–í–ê–ù–ò–ï –ü–†–û–ì–†–ê–ú–ú–´ =====
  
  test('Phase 2: should create route from template', async ({ page }) => {
    // 1. Navigate to templates
    await page.locator('nav a:has-text("–®–∞–±–ª–æ–Ω—ã")').first().click()
    
    // 2. View templates
    await expect(page.locator('[data-testid="template-card"]')).toBeVisible()
    
    // 3. Select template
    await page.locator('[data-testid="template-card"]').first().click()
    
    // 4. Create route from template
    await page.locator('button:has-text("–°–æ–∑–¥–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç")').click()
    
    // 5. Configure route
    await page.locator('input[id="routeName"]').fill('–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ - –¢–µ—Å—Ç–æ–≤—ã–π –†–µ–±–µ–Ω–æ–∫')
    await page.locator('select[id="childId"]').selectOption({ label: '–¢–µ—Å—Ç–æ–≤—ã–π –†–µ–±–µ–Ω–æ–∫' })
    await page.locator('textarea[id="description"]').fill('–ü—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏')
    
    // 6. Configure phases
    await page.locator('button:has-text("–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–∑—ã")').click()
    
    // Phase 1: Adaptation
    await page.locator('[data-phase="1"] input[id="phaseName"]').fill('–ê–¥–∞–ø—Ç–∞—Ü–∏—è')
    await page.locator('[data-phase="1"] input[id="duration"]').fill('14')
    
    // 7. Add goals to phase
    await page.locator('[data-phase="1"] button:has-text("–î–æ–±–∞–≤–∏—Ç—å —Ü–µ–ª—å")').click()
    
    await page.locator('input[id="goalName"]').fill('–£–ª—É—á—à–µ–Ω–∏–µ –∑—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–∞–∫—Ç–∞')
    await page.locator('textarea[id="goalDescription"]').fill('–£–≤–µ–ª–∏—á–∏—Ç—å –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–∞–∫—Ç–∞')
    await page.locator('input[id="targetMetric"]').fill('5 —Å–µ–∫—É–Ω–¥')
    
    // 8. Add exercises to goal
    await page.locator('button:has-text("–î–æ–±–∞–≤–∏—Ç—å —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ")').click()
    
    // Search exercises
    await page.locator('input[type="search"]').fill('–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–∞–∫—Ç')
    await page.locator('[data-testid="exercise-option"]').first().click()
    
    // Set exercise parameters
    await page.locator('input[id="frequency"]').fill('5')  // 5 times per week
    await page.locator('input[id="duration"]').fill('10')  // 10 minutes
    
    await page.locator('button:has-text("–î–æ–±–∞–≤–∏—Ç—å")').click()
    
    // 9. Save and activate route
    await page.locator('button:has-text("–°–æ—Ö—Ä–∞–Ω–∏—Ç—å")').click()
    await expect(page.locator('text=–ú–∞—Ä—à—Ä—É—Ç —Å–æ–∑–¥–∞–Ω')).toBeVisible()
    
    await page.locator('button:has-text("–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å")').click()
    await expect(page.locator('text=–ú–∞—Ä—à—Ä—É—Ç –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω')).toBeVisible()
  })
  
  // ===== –§–ê–ó–ê 3: –ù–ê–ó–ù–ê–ß–ï–ù–ò–ï –ó–ê–î–ê–ù–ò–ô =====
  
  test('Phase 3: should create assignments schedule', async ({ page }) => {
    // 1. Navigate to assignments
    await page.locator('nav a:has-text("–ù–∞–∑–Ω–∞—á–µ–Ω–∏—è")').first().click()
    
    // 2. Create new assignment
    await page.locator('button:has-text("–°–æ–∑–¥–∞—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ")').click()
    
    // 3. Select child and route
    await page.locator('select[id="childId"]').selectOption({ label: '–¢–µ—Å—Ç–æ–≤—ã–π –†–µ–±–µ–Ω–æ–∫' })
    await page.locator('select[id="routeId"]').selectOption({ index: 0 })
    
    // 4. Select goal and exercise
    await page.locator('select[id="goalId"]').selectOption({ index: 0 })
    await page.locator('select[id="exerciseId"]').selectOption({ index: 0 })
    
    // 5. Set schedule
    await page.locator('input[id="startDate"]').fill(
      new Date().toISOString().split('T')[0]
    )
    await page.locator('input[id="endDate"]').fill(
      new Date(Date.now() + 14 * 24 * 60 * 60 * 1000).toISOString().split('T')[0]
    )
    
    // 6. Set frequency
    await page.locator('select[id="frequency"]').selectOption('5')  // 5 days/week
    
    // 7. Select days of week
    await page.locator('input[value="monday"]').check()
    await page.locator('input[value="tuesday"]').check()
    await page.locator('input[value="wednesday"]').check()
    await page.locator('input[value="thursday"]').check()
    await page.locator('input[value="friday"]').check()
    
    // 8. Set time
    await page.locator('input[id="time"]').fill('10:00')
    
    // 9. Add instructions for parents
    await page.locator('textarea[id="instructions"]').fill(
      '–í—ã–ø–æ–ª–Ω—è—Ç—å —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ —É—Ç—Ä–æ–º, –ø–æ—Å–ª–µ –∑–∞–≤—Ç—Ä–∞–∫–∞. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å 10 –º–∏–Ω—É—Ç.'
    )
    
    // 10. Create assignments
    await page.locator('button:has-text("–°–æ–∑–¥–∞—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è")').click()
    await expect(page.locator('text=–ù–∞–∑–Ω–∞—á–µ–Ω–∏—è —Å–æ–∑–¥–∞–Ω—ã')).toBeVisible()
    
    // 11. Verify in calendar
    await page.locator('button:has-text("–ö–∞–ª–µ–Ω–¥–∞—Ä—å")').click()
    await expect(page.locator('[data-testid="assignment"]')).toHaveCount(5)  // 5 days
  })
  
  // ===== –§–ê–ó–ê 4: –ú–û–ù–ò–¢–û–†–ò–ù–ì =====
  
  test('Phase 4: should monitor child progress', async ({ page }) => {
    // 1. Navigate to child's page
    await page.locator('nav a:has-text("–î–µ—Ç–∏")').first().click()
    await page.locator('text=–¢–µ—Å—Ç–æ–≤—ã–π –†–µ–±–µ–Ω–æ–∫').click()
    
    // 2. View progress tab
    await page.locator('button:has-text("–ü—Ä–æ–≥—Ä–µ—Å—Å")').click()
    
    // 3. Check statistics
    await expect(page.locator('[data-testid="total-assignments"]')).toBeVisible()
    await expect(page.locator('[data-testid="completed-assignments"]')).toBeVisible()
    await expect(page.locator('[data-testid="in-progress-assignments"]')).toBeVisible()
    await expect(page.locator('[data-testid="overdue-assignments"]')).toBeVisible()
    
    // 4. View completed assignments with comments
    await page.locator('button:has-text("–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ")').click()
    
    const firstCompletedAssignment = page.locator('[data-status="completed"]').first()
    await firstCompletedAssignment.click()
    
    // 5. Read parent's comment
    await expect(page.locator('[data-testid="parent-comment"]')).toBeVisible()
    
    // 6. Add specialist's feedback
    await page.locator('textarea[placeholder*="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞"]').fill(
      '–û—Ç–ª–∏—á–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å! –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ.'
    )
    await page.locator('button:has-text("–û—Ç–ø—Ä–∞–≤–∏—Ç—å")').click()
    
    // 7. View analytics
    await page.locator('button:has-text("–ê–Ω–∞–ª–∏—Ç–∏–∫–∞")').click()
    
    await expect(page.locator('[data-testid="progress-chart"]')).toBeVisible()
    await expect(page.locator('[data-testid="completion-rate"]')).toBeVisible()
    
    // 8. Identify issues
    await page.locator('button:has-text("–ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏")').click()
    
    // Check overdue assignments
    await expect(page.locator('[data-testid="overdue-list"]')).toBeVisible()
    
    // 9. Adjust route if needed
    await page.locator('button:has-text("–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç")').click()
    
    // Modify exercise frequency
    await page.locator('[data-exercise-id] input[id="frequency"]').fill('3')
    await page.locator('button:has-text("–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è")').click()
    
    // 10. Schedule follow-up diagnostic
    await page.locator('button:has-text("–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞")').click()
    await page.locator('select[id="questionnaire"]').selectOption('ATEC')
    await page.locator('input[id="date"]').fill(
      new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString().split('T')[0]
    )
    await page.locator('button:has-text("–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å")').click()
    
    await expect(page.locator('text=–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞')).toBeVisible()
  })
})
```

**API endpoints –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- `POST /children/v1` - —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–±–µ–Ω–∫–∞
- `POST /children/v1/{id}/parents` - –ø—Ä–∏–≤—è–∑–∫–∞ —Ä–æ–¥–∏—Ç–µ–ª–µ–π
- `POST /diagnostics/v1/sessions` - —Å–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏
- `GET /diagnostics/v1/questionnaires` - —Å–ø–∏—Å–æ–∫ –æ–ø—Ä–æ—Å–Ω–∏–∫–æ–≤
- `POST /diagnostics/v1/sessions/{id}/responses` - –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤
- `GET /diagnostics/v1/sessions/{id}/results` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- `GET /templates/v1` - —Å–ø–∏—Å–æ–∫ —à–∞–±–ª–æ–Ω–æ–≤
- `POST /routes/v1/from-template` - —Å–æ–∑–¥–∞–Ω–∏–µ –∏–∑ —à–∞–±–ª–æ–Ω–∞
- `POST /routes/v1/{id}/phases` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–∑
- `POST /routes/v1/{id}/goals` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ü–µ–ª–µ–π
- `PATCH /routes/v1/{id}/activate` - –∞–∫—Ç–∏–≤–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–∞
- `POST /assignments/v1/schedule` - —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
- `GET /assignments/v1?childId={id}` - —Å–ø–∏—Å–æ–∫ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π
- `GET /assignments/v1/stats?childId={id}` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

**–ß–µ–∫–ø–æ–∏–Ω—Ç—ã:**
- [ ] –°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å —Ä–µ–±–µ–Ω–∫–∞ –∏ –ø—Ä–∏–≤—è–∑–∞—Ç—å —Ä–æ–¥–∏—Ç–µ–ª–µ–π
- [ ] –ú–æ–∂–µ—Ç –ø—Ä–æ–≤–µ—Å—Ç–∏ –ø–æ–ª–Ω—É—é –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É (CARS, ABC, ATEC)
- [ ] –ü–æ–ª—É—á–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
- [ ] –ú–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç –∏–∑ —à–∞–±–ª–æ–Ω–∞
- [ ] –ú–æ–∂–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ñ–∞–∑—ã, —Ü–µ–ª–∏ –∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
- [ ] –ú–æ–∂–µ—Ç –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç
- [ ] –ú–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π
- [ ] –í–∏–¥–∏—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Ä–æ–¥–∏—Ç–µ–ª–µ–π
- [ ] –ú–æ–∂–µ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- [ ] –ú–æ–∂–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- [ ] –ú–æ–∂–µ—Ç –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—É—é –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É

---

## 13. –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á –∏ Timeline

### 13.1. Sprint 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (2-3 –¥–Ω—è)

**–¶–µ–ª—å**: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã, –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏

| –ó–∞–¥–∞—á–∞ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | ETA | –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π |
|--------|-----------|-----|---------------|
| #1: localStorage –≤ E2E —Ç–µ—Å—Ç–∞—Ö | üî¥ | 30 –º–∏–Ω | Frontend/QA |
| #2: Questionnaires –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è | üî¥ | 2 —á–∞—Å–∞ | Frontend |
| #3: /auth/v1/invite —Ñ–æ—Ä–º–∞—Ç API | üî¥ | 30 –º–∏–Ω | Backend |

**Acceptance Criteria:**
- [ ] –í—Å–µ 27 E2E —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç (0 failed)
- [ ] –û–ø—Ä–æ—Å–Ω–∏–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
- [ ] API responses —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É ApiResponse

---

### 13.2. Sprint 2: –°—Ä–µ–¥–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (3-5 –¥–Ω–µ–π)

**–¶–µ–ª—å**: –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Å—Ä–µ–¥–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —É–ª—É—á—à–∏—Ç—å UX

| –ó–∞–¥–∞—á–∞ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | ETA | –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π |
|--------|-----------|-----|---------------|
| #4: Duplicate navigation –≤ —Ç–µ—Å—Ç–∞—Ö | üü° | 1 —á–∞—Å | Frontend/QA |
| #5: Active navigation –ø–æ–¥—Å–≤–µ—Ç–∫–∞ | üü° | 1.5 —á–∞—Å–∞ | Frontend |
| #6: Dialog buttons —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å | üü° | 2 —á–∞—Å–∞ | Frontend |

**Acceptance Criteria:**
- [ ] E2E —Ç–µ—Å—Ç—ã —Å—Ç–∞–±–∏–ª—å–Ω—ã (no flakiness)
- [ ] –ê–∫—Ç–∏–≤–Ω—ã–π –ø—É–Ω–∫—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç—Å—è
- [ ] Dialog –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ

---

### 13.3. Sprint 3: CJM #2 - –†–æ–¥–∏—Ç–µ–ª—å: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã (5-7 –¥–Ω–µ–π)

**–¶–µ–ª—å**: –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å CJM #2

| –ó–∞–¥–∞—á–∞ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | ETA | –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π |
|--------|-----------|-----|---------------|
| –ö–∞–ª–µ–Ω–¥–∞—Ä—å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π UI | üü¢ | 1 –¥–µ–Ω—å | Frontend |
| –ö–∞—Ä—Ç–æ—á–∫–∞ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è UI | üü¢ | 1 –¥–µ–Ω—å | Frontend |
| Transitions —Å—Ç–∞—Ç—É—Å–æ–≤ | üü¢ | 4 —á–∞—Å–∞ | Frontend |
| –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ | üü¢ | 4 —á–∞—Å–∞ | Frontend |
| –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ | üü¢ | 1 –¥–µ–Ω—å | Frontend |
| E2E —Ç–µ—Å—Ç—ã CJM #2 | üü¢ | 1 –¥–µ–Ω—å | QA |

**Acceptance Criteria:**
- [ ] –†–æ–¥–∏—Ç–µ–ª—å –≤–∏–¥–∏—Ç –∫–∞–ª–µ–Ω–¥–∞—Ä—å —Å –∑–∞–¥–∞–Ω–∏—è–º–∏
- [ ] –ú–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é
- [ ] –ú–æ–∂–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
- [ ] –í–∏–¥–∏—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- [ ] E2E —Ç–µ—Å—Ç CJM #2 –ø—Ä–æ—Ö–æ–¥–∏—Ç

---

### 13.4. Sprint 4: CJM #3 - –ù–µ–π—Ä–æ–ø—Å–∏—Ö–æ–ª–æ–≥: –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª (7-10 –¥–Ω–µ–π)

**–¶–µ–ª—å**: –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å CJM #3

**–§–∞–∑–∞ 1: –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ (2 –¥–Ω—è)**
| –ó–∞–¥–∞—á–∞ | ETA |
|--------|-----|
| UI —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ–±–µ–Ω–∫–∞ | 4 —á–∞—Å–∞ |
| UI –ø—Ä–∏–≤—è–∑–∫–∏ —Ä–æ–¥–∏—Ç–µ–ª–µ–π | 4 —á–∞—Å–∞ |
| UI —Å–æ–∑–¥–∞–Ω–∏—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–æ–π —Å–µ—Å—Å–∏–∏ | 1 –¥–µ–Ω—å |
| UI –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø—Ä–æ—Å–Ω–∏–∫–æ–≤ | 1 –¥–µ–Ω—å |
| UI —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ | 4 —á–∞—Å–∞ |

**–§–∞–∑–∞ 2: –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã (3 –¥–Ω—è)**
| –ó–∞–¥–∞—á–∞ | ETA |
|--------|-----|
| UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π | 1 –¥–µ–Ω—å |
| UI –≤—ã–±–æ—Ä–∞ —à–∞–±–ª–æ–Ω–∞ | 4 —á–∞—Å–∞ |
| UI —Å–æ–∑–¥–∞–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–∞ | 1 –¥–µ–Ω—å |
| UI –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∞–∑/—Ü–µ–ª–µ–π | 1 –¥–µ–Ω—å |
| UI –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –º–∞—Ä—à—Ä—É—Ç–∞ | 4 —á–∞—Å–∞ |

**–§–∞–∑–∞ 3: –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏–π (1 –¥–µ–Ω—å)**
| –ó–∞–¥–∞—á–∞ | ETA |
|--------|-----|
| UI —Å–æ–∑–¥–∞–Ω–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è | 4 —á–∞—Å–∞ |
| UI –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π | 4 —á–∞—Å–∞ |

**–§–∞–∑–∞ 4: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (1 –¥–µ–Ω—å)**
| –ó–∞–¥–∞—á–∞ | ETA |
|--------|-----|
| UI –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π | 4 —á–∞—Å–∞ |
| UI –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ | 4 —á–∞—Å–∞ |
| UI –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã | 4 —á–∞—Å–∞ |

**E2E —Ç–µ—Å—Ç—ã (2 –¥–Ω—è)**
| –ó–∞–¥–∞—á–∞ | ETA |
|--------|-----|
| E2E —Ç–µ—Å—Ç: –§–∞–∑–∞ 1 –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ | 4 —á–∞—Å–∞ |
| E2E —Ç–µ—Å—Ç: –§–∞–∑–∞ 2 –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ | 4 —á–∞—Å–∞ |
| E2E —Ç–µ—Å—Ç: –§–∞–∑–∞ 3 –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | 4 —á–∞—Å–∞ |
| E2E —Ç–µ—Å—Ç: –§–∞–∑–∞ 4 –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ | 4 —á–∞—Å–∞ |

**Acceptance Criteria:**
- [ ] –°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –º–æ–∂–µ—Ç –ø—Ä–æ–≤–µ—Å—Ç–∏ –ø–æ–ª–Ω—É—é –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É
- [ ] –ú–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç
- [ ] –ú–æ–∂–µ—Ç –Ω–∞–∑–Ω–∞—á–∏—Ç—å –∑–∞–¥–∞–Ω–∏—è –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
- [ ] –ú–æ–∂–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É
- [ ] –í—Å–µ E2E —Ç–µ—Å—Ç—ã CJM #3 –ø—Ä–æ—Ö–æ–¥—è—Ç

---

### 13.5. –û–±—â–∏–π Timeline

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Week 1: Sprint 1 - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è              ‚îÇ
‚îÇ ‚úÖ localStorage fix                                       ‚îÇ
‚îÇ ‚úÖ Questionnaires display                                 ‚îÇ
‚îÇ ‚úÖ API format standardization                             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Week 1-2: Sprint 2 - –°—Ä–µ–¥–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è                ‚îÇ
‚îÇ ‚úÖ Navigation fixes                                       ‚îÇ
‚îÇ ‚úÖ Dialog stability                                       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Week 2-3: Sprint 3 - CJM #2 (Parent Execution)          ‚îÇ
‚îÇ üü° Calendar UI                                           ‚îÇ
‚îÇ üü° Exercise card UI                                      ‚îÇ
‚îÇ üü° Status transitions                                    ‚îÇ
‚îÇ üü° Progress statistics                                   ‚îÇ
‚îÇ üü° E2E tests                                             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Week 3-5: Sprint 4 - CJM #3 (Specialist Full Cycle)     ‚îÇ
‚îÇ üü° Phase 1: Diagnostics                                  ‚îÇ
‚îÇ üü° Phase 2: Program Planning                             ‚îÇ
‚îÇ üü° Phase 3: Assignments                                  ‚îÇ
‚îÇ üü° Phase 4: Monitoring                                   ‚îÇ
‚îÇ üü° E2E tests                                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

Total: 5 weeks (35 days)
```

---

## 14. –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ Production

### 14.1. Backend API
- [x] –í—Å–µ 8 —Å–µ—Ä–≤–∏—Å–æ–≤ —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
- [x] Healthchecks –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- [x] API responses —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É ApiResponse
- [ ] –í—Å–µ endpoints –ø–æ–∫—Ä—ã—Ç—ã unit —Ç–µ—Å—Ç–∞–º–∏ (>80%)
- [ ] Integration —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö flows
- [ ] Error handling –∏ logging –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] Rate limiting –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### 14.2. Frontend
- [x] –í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç HTTP 200
- [ ] E2E —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (100% success rate)
- [ ] –ù–µ—Ç console errors/warnings
- [ ] Loading states –≤–µ–∑–¥–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- [ ] Error boundaries —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] Responsive design –Ω–∞ –≤—Å–µ—Ö —ç–∫—Ä–∞–Ω–∞—Ö
- [ ] Accessibility (a11y) –±–∞–∑–æ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- [ ] SEO –º–µ—Ç–∞—Ç–µ–≥–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

### 14.3. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- [x] JWT —Ç–æ–∫–µ–Ω—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [x] Protected routes –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [x] RBAC —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- [ ] XSS –∑–∞—â–∏—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
- [ ] CSRF –∑–∞—â–∏—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
- [ ] SQL injection –∑–∞—â–∏—Ç–∞ (Prisma handles)
- [ ] Secrets –≤ .env (–Ω–µ –≤ –∫–æ–¥–µ)
- [ ] HTTPS –≤ production

### 14.4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [x] Backend API: 100% endpoints —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] Frontend E2E: 100% —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç (—Å–µ–π—á–∞—Å 40.7%)
- [ ] Unit —Ç–µ—Å—Ç—ã: >80% coverage
- [ ] Integration —Ç–µ—Å—Ç—ã: –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ flows
- [ ] CJM —Å—Ü–µ–Ω–∞—Ä–∏–∏: –≤—Å–µ 3 –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã
- [ ] Performance —Ç–µ—Å—Ç—ã: response time < 500ms
- [ ] Load —Ç–µ—Å—Ç—ã: 100 concurrent users

### 14.5. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [x] API –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –æ–ø–∏—Å–∞–Ω—ã
- [x] DATA_MODEL –æ–ø–∏—Å–∞–Ω–∞
- [x] CJM —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
- [ ] README –æ–±–Ω–æ–≤–ª–µ–Ω —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
- [ ] Deployment guide —Å–æ–∑–¥–∞–Ω
- [ ] Troubleshooting guide —Å–æ–∑–¥–∞–Ω
- [ ] User manual (–¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π/—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤)

### 14.6. –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- [x] Docker compose –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [x] Database –º–∏–≥—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- [x] Seed —Å–∫—Ä–∏–ø—Ç –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–µ–Ω
- [ ] CI/CD pipeline –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] Monitoring –Ω–∞—Å—Ç—Ä–æ–µ–Ω (Sentry, DataDog, etc)
- [ ] Logging –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω (ELK, Grafana)
- [ ] Backup strategy –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞
- [ ] Disaster recovery plan –µ—Å—Ç—å

---

## 15. –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ —Ä–µ—Å—É—Ä—Å—ã

**–î–æ–∫—É–º–µ–Ω—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
- `Documents/COMPLETE_TESTING_REPORT.md` - –ø–æ–ª–Ω—ã–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –æ—Ç—á–µ—Ç
- `Documents/TESTING_SUMMARY_RU.md` - –∫—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞

**E2E —Ç–µ—Å—Ç—ã:**
- `apps/web/e2e/auth.spec.ts` - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (9 failed)
- `apps/web/e2e/dashboard.spec.ts` - dashboard –∏ CRUD (7 failed)

**–ü—Ä–æ–±–ª–µ–º–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `apps/web/src/app/dashboard/diagnostics/page.tsx` - questionnaires
- `services/auth/src/routes/invite.ts` - API format
- `apps/web/src/components/layout/Sidebar.tsx` - navigation

**–ö–æ–º–∞–Ω–¥–∞:**
- Backend: services/* –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- Frontend: apps/web/* –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
- QA: apps/web/e2e/* —Ç–µ—Å—Ç—ã
- DevOps: docker-compose.yml, CI/CD

---

**–ò–¢–û–ì–û**: –ü–ª–∞–Ω –¥–µ—Ç–∞–ª—å–Ω—ã–π, –∑–∞–¥–∞—á–∏ –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω—ã, timeline ~5 –Ω–µ–¥–µ–ª—å. –ì–æ—Ç–æ–≤ –∫ execution! üöÄ
