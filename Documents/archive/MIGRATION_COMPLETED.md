# üéâ –ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∑–∞–≤–µ—Ä—à–µ–Ω–∞

**–î–∞—Ç–∞:** 2025-11-15  
**–í–µ—Ä—Å–∏—è:** 0.1.0

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —à–∞–≥–∏

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Prisma Schema
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ `specialistId` –≤ –º–æ–¥–µ–ª—å `Assignment`
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω FK constraint –Ω–∞ `specialist(user_id)`
- ‚úÖ –°—Ö–µ–º–∞ –ø—Ä–æ—à–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—é

### 2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –°–æ–∑–¥–∞–Ω SQL —Å–∫—Ä–∏–ø—Ç `init_database.sql` —Å –ø–æ–ª–Ω–æ–π —Å—Ö–µ–º–æ–π
- ‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω—ã –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã –∏ –∏–Ω–¥–µ–∫—Å—ã
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ Foreign Key constraints
- ‚úÖ –í–∫–ª—é—á–µ–Ω–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ `uuid-ossp` –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ UUID

**–°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:**
```
‚úì users                    (7 –∑–∞–ø–∏—Å–µ–π)
‚úì specialist               (4 –∑–∞–ø–∏—Å–∏)
‚úì child                    (2 –∑–∞–ø–∏—Å–∏)
‚úì child_parent             (2 –∑–∞–ø–∏—Å–∏)
‚úì assignments              (3 –∑–∞–ø–∏—Å–∏) ‚Üê –° –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º specialistId!
‚úì diagnostic_session       (3 –∑–∞–ø–∏—Å–∏)
‚úì iep                      (2 –∑–∞–ø–∏—Å–∏)
‚úì goal                     (3 –∑–∞–ø–∏—Å–∏)
‚úì activity                 (3 –∑–∞–ø–∏—Å–∏)
‚úì activity_completion      (4 –∑–∞–ø–∏—Å–∏)
‚úì report                   (2 –∑–∞–ø–∏—Å–∏)
‚úì conversation             (2 –∑–∞–ø–∏—Å–∏)
‚úì conversation_participant (4 –∑–∞–ø–∏—Å–∏)
‚úì message                  (5 –∑–∞–ø–∏—Å–µ–π)
‚úì notification             (3 –∑–∞–ø–∏—Å–∏)
‚úì platform_setting         (3 –∑–∞–ø–∏—Å–∏)
‚úì audit_log                (–≥–æ—Ç–æ–≤–∞)
‚úì outbox                   (–≥–æ—Ç–æ–≤–∞)
```

### 3. –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω SQL —Å–∫—Ä–∏–ø—Ç `seed_data.sql` —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤—Å–µ—Ö —Ä–æ–ª–µ–π (admin, supervisor, specialist, parent)
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã –ø—Ä–æ—Ñ–∏–ª–∏ –¥–µ—Ç–µ–π –∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è (assignments) —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º `specialistId`
- ‚úÖ –ó–∞–ø–æ–ª–Ω–µ–Ω—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ —Å–µ—Å—Å–∏–∏, IEP, —Ü–µ–ª–∏, –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã —Å–æ–æ–±—â–µ–Ω–∏–π –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**–¢–µ—Å—Ç–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã:**
```
Admin:      admin@neiro.dev       / admin123
Supervisor: supervisor@neiro.dev  / supervisor123
Specialist: specialist1@neiro.dev / specialist123
            specialist2@neiro.dev / specialist123
            specialist3@neiro.dev / specialist123
Parent:     parent1@neiro.dev     / parent123
            parent2@neiro.dev     / parent123
```

**–í–∞–∂–Ω–æ:** –í—Å–µ –ø–∞—Ä–æ–ª–∏ –∑–∞—Ö–µ—à–∏—Ä–æ–≤–∞–Ω—ã —Å –ø–æ–º–æ—â—å—é bcrypt (cost=12)

---

## üîß –û–±—Ö–æ–¥ –ø—Ä–æ–±–ª–µ–º—ã Prisma Engine

### –ü—Ä–æ–±–ª–µ–º–∞
Prisma CLI –Ω–µ —Ä–∞–±–æ—Ç–∞–ª –≤ Alpine Linux –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –∏–∑-–∑–∞ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ OpenSSL:
```
Error: Unable to require libquery_engine-linux-musl-arm64-openssl-1.1.x.so.node
Details: Error loading shared library libssl.so.1.1: No such file or directory
```

### –†–µ—à–µ–Ω–∏–µ
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –ø—Ä—è–º—ã–µ SQL —Å–∫—Ä–∏–ø—Ç—ã –≤–º–µ—Å—Ç–æ Prisma migrations:
1. ‚úÖ `init_database.sql` - —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ö–µ–º—ã
2. ‚úÖ `seed_data.sql` - –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ–¥—Ö–æ–¥–∞:**
- ‚úÖ –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç Prisma Engine
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –≤ –ª—é–±–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ —Å PostgreSQL –∫–ª–∏–µ–Ω—Ç–æ–º
- ‚úÖ –õ–µ–≥–∫–æ —á–∏—Ç–∞—Ç—å –∏ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å
- ‚úÖ –ú–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å —á–µ—Ä–µ–∑ `docker-compose exec`

---

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö

```sql
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤
SELECT 
  u.email, 
  u.role, 
  s.user_id IS NOT NULL as is_specialist 
FROM users u 
LEFT JOIN specialist s ON u.id = s.user_id 
ORDER BY u.role, u.email;

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ assignments —Å specialistId
SELECT 
  a.id,
  c.first_name || ' ' || c.last_name as child_name,
  u.first_name || ' ' || u.last_name as specialist_name,
  a.status
FROM assignments a
JOIN child c ON a.child_id = c.id
JOIN specialist s ON a.specialist_id = s.user_id
JOIN users u ON s.user_id = u.id;

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ FK constraints
SELECT 
  tc.table_name, 
  kcu.column_name, 
  ccu.table_name AS foreign_table_name
FROM information_schema.table_constraints AS tc 
JOIN information_schema.key_column_usage AS kcu
  ON tc.constraint_name = kcu.constraint_name
WHERE tc.constraint_type = 'FOREIGN KEY' 
  AND tc.table_name='assignments';
```

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### 1. –ó–∞–ø—É—Å–∫ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å Auth Service
docker-compose exec app sh -c "cd services/auth && pnpm run dev"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏–Ω
curl -X POST http://localhost:4001/auth/v1/login \
  -H "Content-Type: application/json" \
  -d '{"email":"admin@neiro.dev","password":"admin123"}'
```

### 2. –ó–∞–ø—É—Å–∫ Frontend
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å Next.js
docker-compose exec app sh -c "cd apps/web && pnpm dev"

# –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
# http://localhost:3001
```

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- [ ] –õ–æ–≥–∏–Ω –ø–æ–¥ admin@neiro.dev
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—Å–µ —Ä–∞–∑–¥–µ–ª—ã –¥–ª—è –∞–¥–º–∏–Ω–∞)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–ø–∏—Å–æ–∫ –¥–µ—Ç–µ–π (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 2 —Ä–µ–±–µ–Ω–∫–∞)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è (assignments)
- [ ] –õ–æ–≥–∏–Ω –ø–æ–¥ specialist1@neiro.dev
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ
- [ ] –õ–æ–≥–∏–Ω –ø–æ–¥ parent1@neiro.dev
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å —Å–≤–æ–µ–≥–æ —Ä–µ–±–µ–Ω–∫–∞

---

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `init_database.sql` - –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ö–µ–º—ã –ë–î
- `seed_data.sql` - –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
- `MANUAL_MIGRATION_STEPS.md` - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä—É—á–Ω–æ–º—É –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é –º–∏–≥—Ä–∞—Ü–∏–π
- `MIGRATION_COMPLETED.md` - –≠—Ç–æ—Ç —Ñ–∞–π–ª (–æ—Ç—á–µ—Ç –æ –º–∏–≥—Ä–∞—Ü–∏–∏)

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏

1. **OpenSSL –≤ Alpine:** Prisma Engine —Ç—Ä–µ–±—É–µ—Ç `libssl.so.1.1`, –Ω–æ Alpine 3.22 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç OpenSSL 3.x. –î–ª—è production —Å—Ç–æ–∏—Ç —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Debian-based –æ–±—Ä–∞–∑–∞ –∏–ª–∏ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –±–∏–Ω–∞—Ä–Ω–∏–∫ Prisma.

2. **Prisma Client:** –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã —Å Prisma CLI, Prisma Client —É—Å–ø–µ—à–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ runtime. –ü—Ä–æ–±–ª–µ–º–∞ —Ç–æ–ª—å–∫–æ —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏.

3. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –í –±—É–¥—É—â–µ–º –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `prisma db push` –Ω–∞ –º–∞—à–∏–Ω–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ (–Ω–µ –≤ Alpine –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ) –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π, –∞ –∑–∞—Ç–µ–º –ø—Ä–∏–º–µ–Ω—è—Ç—å –∏—Ö –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ —á–µ—Ä–µ–∑ –æ–±—ã—á–Ω—ã–µ SQL —Å–∫—Ä–∏–ø—Ç—ã.

4. **–ü–∞—Ä–æ–ª–∏:** –í—Å–µ –ø–∞—Ä–æ–ª–∏ –≤ seed –¥–∞–Ω–Ω—ã—Ö –æ–¥–∏–Ω–∞–∫–æ–≤–æ –∑–∞—Ö–µ—à–∏—Ä–æ–≤–∞–Ω—ã. –î–ª—è —Ä–µ–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –∫–∞–∂–¥—ã–π –ø–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞—Ö–µ—à–∏—Ä–æ–≤–∞–Ω –æ—Ç–¥–µ–ª—å–Ω–æ.

---

## üéØ –°—Ç–∞—Ç—É—Å

**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞  
**–°—Ö–µ–º–∞:** ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞  
**–î–∞–Ω–Ω—ã–µ:** ‚úÖ –ó–∞–ø–æ–ª–Ω–µ–Ω—ã  
**–¢–µ—Å—Ç—ã:** ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API –∏ Frontend

---

**–ì–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é! üöÄ**

